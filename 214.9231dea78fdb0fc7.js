"use strict";(self.webpackChunksfrs_fe=self.webpackChunksfrs_fe||[]).push([[214],{7214:(Qs,be,u)=>{u.r(be),u.d(be,{IdapServiceModule:()=>Ls});var p=u(9808),h=u(4996),e=u(7587);let At=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-settings"]],decls:4,vars:0,consts:[[1,"container-fluid"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h4"),e._uU(2,"Account settings"),e.qZA(),e._UZ(3,"hr"),e.qZA())},styles:[""]}),o})();class Zt{}var x=u(5805),T=u(2964),y=u(2021);const Mt=function(){return["../user-groups"]};let Dt=(()=>{class o{constructor(t,n){this.core=t,this.idapService=n,this.loadingData=!1,this.accountSummary=new Zt}ngOnInit(){this.getAccountSummary()}getAccountSummary(){this.loadingData=!0,this.idapService.getAccountSummary().then(t=>{this.loadingData=!1,this.accountSummary=t,console.log("Dashboard: ",this.accountSummary)}).catch(t=>{console.error("Dashboard error: ",t),this.loadingData=!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(T.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:31,vars:6,consts:[[1,"container-fluid"],[1,"row","pt-5"],[1,"col-10"],[1,"col","d-flex","justify-content-sm-end"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-sync-alt"],[1,"row"],[1,"col","border-end"],[3,"routerLink"],["routerLink","../users"],[1,"col"],["routerLink","../policies"],[3,"show"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h4"),e._uU(2,"IDAP dashboard"),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"div",2),e.TgZ(5,"h5"),e._uU(6,"IDAP resources"),e.qZA(),e.qZA(),e.TgZ(7,"div",3),e.TgZ(8,"button",4),e.NdJ("click",function(){return n.getAccountSummary()}),e._UZ(9,"i",5),e.qZA(),e.qZA(),e.qZA(),e._UZ(10,"hr"),e.TgZ(11,"div",6),e.TgZ(12,"div",7),e.TgZ(13,"div"),e._uU(14,"User groups"),e.qZA(),e.TgZ(15,"div"),e.TgZ(16,"a",8),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",7),e.TgZ(19,"div"),e._uU(20,"Users"),e.qZA(),e.TgZ(21,"div"),e.TgZ(22,"a",9),e._uU(23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",10),e.TgZ(25,"div"),e._uU(26,"Policies"),e.qZA(),e.TgZ(27,"div"),e.TgZ(28,"a",11),e._uU(29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(30,"ngx-loading",12)),2&t&&(e.xp6(16),e.Q6J("routerLink",e.DdM(5,Mt)),e.xp6(1),e.Oqu(null==n.accountSummary||null==n.accountSummary.data||null==n.accountSummary.data.summary?null:n.accountSummary.data.summary.groups),e.xp6(6),e.Oqu(null==n.accountSummary||null==n.accountSummary.data||null==n.accountSummary.data.summary?null:n.accountSummary.data.summary.users),e.xp6(6),e.Oqu(null==n.accountSummary||null==n.accountSummary.data||null==n.accountSummary.data.summary?null:n.accountSummary.data.summary.policies),e.xp6(1),e.Q6J("show",n.loadingData))},directives:[h.yS,y.RJ],styles:["a[_ngcontent-%COMP%]{font-size:xx-large}"]}),o})();const It=function(o,i){return{sidebarPushRight:o,collapsed:i}},St=function(o){return{collapsed:o}},q=function(){return["router-link-active"]},kt=function(){return["user-groups"]},Et=function(){return["users"]},Ot=function(){return["policies"]},Ut=function(){return["account-settings"]};let Pt=(()=>{class o{constructor(){this.isActive=!1,this.collapsed=!1,this.showMenu="settings",this.showMenu2="",this.classActive=null,this.pushRightClass="",this.loginUser=null,this.collapsedEvent=new e.vpe}ngOnInit(){}onActive(t){if(this.classActive){if(this.classActive===t)return this.classActive.classList.toggle("active"),void(this.classActive=null);this.classActive.classList.toggle("active")}t.classList.toggle("active"),this.classActive=t}addExpandClass(t){this.showMenu=t===this.showMenu?"0":t}addExpandClass2(t){this.showMenu2=t===this.showMenu2?"0":t}toggleCollapsed(){this.collapsed=!this.collapsed,this.collapsedEvent.emit(this.collapsed)}isToggled(){return document.querySelector("body").classList.contains(this.pushRightClass)}toggleSidebar(){document.querySelector("body").classList.toggle(this.pushRightClass)}rltAndLtr(){document.querySelector("body").classList.toggle("rtl")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-sidebar"]],outputs:{collapsedEvent:"collapsedEvent"},decls:42,vars:30,consts:[[1,"sidebar",3,"ngClass"],[1,"sidebar-header","container","pt-3","pb-3",3,"ngClass"],[1,"row","align-items-center"],[1,"col-8","text-wrap"],[1,"header-text"],[1,"col","d-flex","justify-content-end",3,"click"],[1,"sidebar-body","pt-3","pb-3"],[1,"list-group"],["routerLink","dashboard",1,"list-group-item",3,"routerLinkActive"],[1,"fa","fa-chart-line"],[1,"nested-menu"],["settings",""],[1,"list-group-item",3,"click"],[1,"fa","fa-users"],[1,"fw-bold"],[1,"nested"],[1,"submenu","ps-3"],[1,"list-group-item",3,"routerLink","routerLinkActive"],[1,"fa","fa-users-cog"],[1,"fa","fa-user-cog"],[1,"fa","fa-wrench"],[1,"fa","fa-cog"]],template:function(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"nav",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._uU(5,"Identity and Access Platform (IDAP)"),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.NdJ("click",function(){return n.toggleCollapsed()}),e._UZ(7,"i"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"a",8),e._UZ(11,"i",9),e.TgZ(12,"span"),e._uU(13,"Dashboard"),e.qZA(),e.qZA(),e.TgZ(14,"div",10,11),e.TgZ(16,"a",12),e.NdJ("click",function(){e.CHM(r);const a=e.MAs(15);return n.onActive(a)})("click",function(){return n.addExpandClass("settings")}),e._UZ(17,"i",13),e.TgZ(18,"span",14),e._uU(19,"Access management"),e.qZA(),e.qZA(),e.TgZ(20,"li",15),e.TgZ(21,"ul",16),e.TgZ(22,"li"),e.TgZ(23,"a",17),e._UZ(24,"i",18),e.TgZ(25,"span"),e._uU(26,"User groups"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"li"),e.TgZ(28,"a",17),e._UZ(29,"i",19),e.TgZ(30,"span"),e._uU(31,"Users"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"li"),e.TgZ(33,"a",17),e._UZ(34,"i",20),e.TgZ(35,"span"),e._uU(36,"Policies"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"li"),e.TgZ(38,"a",17),e._UZ(39,"i",21),e.TgZ(40,"span"),e._uU(41,"Account settings"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&t&&(e.Q6J("ngClass",e.WLB(16,It,n.isActive,n.collapsed)),e.xp6(1),e.Q6J("ngClass",e.VKq(19,St,n.collapsed)),e.xp6(6),e.Gre("fw-bold fa fa-fw fa-angle-double-",n.collapsed?"right":"left",""),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(21,q)),e.xp6(10),e.ekj("expand","settings"===n.showMenu),e.xp6(3),e.Q6J("routerLink",e.DdM(22,kt))("routerLinkActive",e.DdM(23,q)),e.xp6(5),e.Q6J("routerLink",e.DdM(24,Et))("routerLinkActive",e.DdM(25,q)),e.xp6(5),e.Q6J("routerLink",e.DdM(26,Ot))("routerLinkActive",e.DdM(27,q)),e.xp6(5),e.Q6J("routerLink",e.DdM(28,Ut))("routerLinkActive",e.DdM(29,q)))},directives:[p.mk,h.yS,h.Od],styles:['.sidebar-header[_ngcontent-%COMP%]{color:#01143c;cursor:pointer;border-bottom:.5px solid #01133a2e;transition:all .2s ease-in-out}.sidebar-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:23px}.sidebar-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{font-weight:700}.sidebar-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]:hover{color:#d38c09}.orange-color[_ngcontent-%COMP%]{color:#d75e10}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#01143c;color:#fff}.lastLogin[_ngcontent-%COMP%]{padding:1.5rem .6rem}.icon-size[_ngcontent-%COMP%], .sub-icon-size[_ngcontent-%COMP%]{width:15px;margin-right:10px;margin-left:2px}.noOutline[_ngcontent-%COMP%], .noOutline[_ngcontent-%COMP%]:focus, .noOutline[_ngcontent-%COMP%]:active{outline:none}.noUnread[_ngcontent-%COMP%]{position:relative;top:30px}.unreadCount[_ngcontent-%COMP%]{position:relative;bottom:7px;right:8px;border:1px solid;padding:2px;border-radius:50%}.sidebar[_ngcontent-%COMP%]{color:#01143c;background-color:#f5f5f5;height:100%;width:320px;white-space:nowrap;transition:all .2s ease-in-out;border:.5px solid #01133a2e;border-top:none;border-left:none;border-bottom:none}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]{background:whitesmoke;border:0;border-radius:0;text-decoration:none}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:10px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d38c09}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{color:#eb9c0a}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]:hover{font-weight:700}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .header-fields[_ngcontent-%COMP%]{padding-top:10px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .header-fields[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-top:1px solid white}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:focus{border-radius:none;border:none}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:1rem;height:50px;margin-bottom:0}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:400;background:#01143c}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:block;padding:1rem 1.5rem .75rem}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#fff;outline:none;outline-offset:-2px}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]:hover{background:#010c23}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]{border-radius:0;border:none}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border-radius:0;background-color:#01143c;border:0 solid transparent}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:hover{background:#010c23}.nested-menu[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{cursor:pointer}.nested-menu[_ngcontent-%COMP%]   .nested[_ngcontent-%COMP%]{list-style-type:none}.nested-menu[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]{display:none;height:0}.nested-menu[_ngcontent-%COMP%] > li.expand[_ngcontent-%COMP%] > ul.submenu[_ngcontent-%COMP%]{display:block;list-style-type:none;height:auto}.nested-menu[_ngcontent-%COMP%] > li.expand[_ngcontent-%COMP%] > ul.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;display:block}@media screen and (max-width: 992px){.sidebar[_ngcontent-%COMP%]{top:53px;left:0px}}@media print{.sidebar[_ngcontent-%COMP%]{display:none!important}}@media (min-width: 992px){.header-fields[_ngcontent-%COMP%]{display:none}}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 #fff;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:3px;box-shadow:inset 0 0 3px #fff;-webkit-box-shadow:inset 0 0 3px white}.collapsed[_ngcontent-%COMP%]{width:60px}.collapsed[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .collapsed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.collapsed[_ngcontent-%COMP%]   .nested-menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:not(.mm-next):after{right:10px!important}.nested-menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:not(.mm-next):after{content:"-";font-weight:700;font-size:1.3rem;display:inline-block;position:absolute;right:20px;top:3px;transform:rotate(0);transition-duration:.2s;transition-timing-function:ease-in-out;transition-delay:0s}.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:not(.mm-next):after{content:"+"}']}),o})(),Nt=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-idap-service"]],decls:4,vars:0,consts:[[1,"container-fluid","ps-0","pe-0","h-100","overflow-auto","d-flex"],[1,"container","pt-3","pb-5","overflow-auto"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-sidebar"),e.TgZ(2,"section",1),e._UZ(3,"router-outlet"),e.qZA(),e.qZA())},directives:[Pt,h.lC],styles:["div[_ngcontent-%COMP%]{background-color:#fff}"]}),o})();var b=u(5861),c=u(3075),w=u(4004);function U(o){return null!=o&&"false"!=`${o}`}function xe(o){return Array.isArray(o)?o:[o]}function L(o){return o instanceof e.SBq?o.nativeElement:o}var C=u(7579),qt=u(9841),Lt=u(7272),ye=u(8306),Te=u(5698),we=u(5684),Jt=u(1566),Qt=u(4482),Gt=u(5403);function Ce(o,i=Jt.z){return(0,Qt.e)((t,n)=>{let r=null,s=null,a=null;const l=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,n.next(_)}};function m(){const _=a+o,g=i.now();if(g<_)return r=this.schedule(void 0,_-g),void n.add(r);l()}t.subscribe(new Gt.Q(n,_=>{s=_,a=i.now(),r||(r=i.schedule(m,o),n.add(r))},()=>{l(),n.complete()},void 0,()=>{s=r=null}))})}var J=u(8675),I=u(2722);let oe;try{oe="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(o){oe=!1}let G,ie,Q=(()=>{class o{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oe)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.Lbi))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Bt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({}),o})();function ne(o){return function zt(){if(null==G&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>G=!0}))}finally{G=G||!1}return G}()?o:!!o.capture}function B(o){return o.composedPath?o.composedPath()[0]:o.target}const Ze=new Set;let N,Kt=(()=>{class o{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$t}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Wt(o){if(!Ze.has(o))try{N||(N=document.createElement("style"),N.setAttribute("type","text/css"),document.head.appendChild(N)),N.sheet&&(N.sheet.insertRule(`@media ${o} {body{ }}`,0),Ze.add(o))}catch(i){console.error(i)}}(t),this._matchMedia(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Q))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function $t(o){return{matches:"all"===o||""===o,media:o,addListener:()=>{},removeListener:()=>{}}}let Me=(()=>{class o{constructor(t,n){this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new C.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return De(xe(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){const r=De(xe(t)).map(a=>this._registerQuery(a).observable);let s=(0,qt.a)(r);return s=(0,Lt.z)(s.pipe((0,Te.q)(1)),s.pipe((0,we.T)(1),Ce(0))),s.pipe((0,w.U)(a=>{const l={matches:!1,breakpoints:{}};return a.forEach(({matches:m,query:_})=>{l.matches=l.matches||m,l.breakpoints[_]=m}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const n=this._mediaMatcher.matchMedia(t),s={observable:new ye.y(a=>{const l=m=>this._zone.run(()=>a.next(m));return n.addListener(l),()=>{n.removeListener(l)}}).pipe((0,J.O)(n),(0,w.U)(({matches:a})=>({query:t,matches:a})),(0,I.R)(this._destroySubject)),mql:n};return this._queries.set(t,s),s}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Kt),e.LFG(e.R0b))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function De(o){return o.map(i=>i.split(",")).reduce((i,t)=>i.concat(t)).map(i=>i.trim())}class re{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Xt extends re{constructor(i,t,n,r){super(),this.component=i,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class Ie extends re{constructor(i,t,n){super(),this.templateRef=i,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(i,t=this.context){return this.context=t,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class eo extends re{constructor(i){super(),this.element=i instanceof e.SBq?i.nativeElement:i}}let oo=(()=>{class o extends class to{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Xt?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof Ie?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof eo?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,n,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new e.vpe,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=n.createComponent(s,n.length,t.injector||n.injector);return n!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(p.K0))},o.\u0275dir=e.lG2({type:o,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.qOj]}),o})(),no=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({}),o})();var se=u(727),io=u(1135),k=u(9646);function Se(o,...i){return i.length?i.some(t=>o[t]):o.altKey||o.shiftKey||o.ctrlKey||o.metaKey}var V=u(8505),Co=u(9300),ke=u(1884);class Do extends class Mo{constructor(i){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new C.x,this._typeaheadSubscription=se.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new C.x,this.change=new C.x,i instanceof e.n_E&&i.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,V.b)(t=>this._pressedLetters.push(t)),Ce(i),(0,Co.h)(()=>this._pressedLetters.length>0),(0,w.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,a=n[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}setActiveItem(i){const t=this._activeItem;this.updateActiveItem(i),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(i){const t=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!i[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Se(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const t=this._getItemsArray(),n="number"==typeof i?i:t.indexOf(i),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+i*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,t){const n=this._getItemsArray();if(n[i]){for(;this._skipPredicateFn(n[i]);)if(!n[i+=t])return;this.setActiveItem(i)}}_getItemsArray(){return this._items instanceof e.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}function Pe(o){return 0===o.buttons||0===o.offsetX&&0===o.offsetY}function Ne(o){const i=o.touches&&o.touches[0]||o.changedTouches&&o.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const Uo=new e.OlP("cdk-input-modality-detector-options"),Po={ignoreKeys:[18,17,224,91,16]},F=ne({passive:!0,capture:!0});let No=(()=>{class o{constructor(t,n,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new io.X(null),this._lastTouchMs=0,this._onKeydown=a=>{var l,m;(null===(m=null===(l=this._options)||void 0===l?void 0:l.ignoreKeys)||void 0===m?void 0:m.some(_=>_===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=B(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Pe(a)?"keyboard":"mouse"),this._mostRecentTarget=B(a))},this._onTouchstart=a=>{Ne(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=B(a))},this._options=Object.assign(Object.assign({},Po),s),this.modalityDetected=this._modality.pipe((0,we.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ke.x)()),t.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,F),r.addEventListener("mousedown",this._onMousedown,F),r.addEventListener("touchstart",this._onTouchstart,F)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,F),document.removeEventListener("mousedown",this._onMousedown,F),document.removeEventListener("touchstart",this._onTouchstart,F))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Q),e.LFG(e.R0b),e.LFG(p.K0),e.LFG(Uo,8))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ro=new e.OlP("cdk-focus-monitor-default-options"),K=ne({passive:!0,capture:!0});let qo=(()=>{class o{constructor(t,n,r,s,a){this._ngZone=t,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new C.x,this._rootNodeFocusAndBlurListener=l=>{const m=B(l),_="focus"===l.type?this._onFocus:this._onBlur;for(let g=m;g;g=g.parentElement)_.call(this,l,g)},this._document=s,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(t,n=!1){const r=L(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,k.of)(null);const s=function jt(o){if(function Ht(){if(null==ie){const o="undefined"!=typeof document?document.head:null;ie=!(!o||!o.createShadowRoot&&!o.attachShadow)}return ie}()){const i=o.getRootNode?o.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return n&&(a.checkChildren=!0),a.subject;const l={checkChildren:n,subject:new C.x,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const n=L(t),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(t,n,r){const s=L(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,m])=>this._originChanged(l,n,m)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const r=this._elementInfo.get(n),s=B(t);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(t,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(r.subject,null))}_emitOrigin(t,n){this._ngZone.run(()=>t.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,K),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,K)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,I.R)(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,K),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,K),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,r){this._setClasses(t,n),this._emitOrigin(r.subject,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&n.push([s,r])}),n}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.R0b),e.LFG(Q),e.LFG(No),e.LFG(p.K0,8),e.LFG(Ro,8))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Re="cdk-high-contrast-black-on-white",qe="cdk-high-contrast-white-on-black",ae="cdk-high-contrast-active";let Lo=(()=>{class o{constructor(t,n){this._platform=t,this._document=n}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ae),t.remove(Re),t.remove(qe),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?(t.add(ae),t.add(Re)):2===n&&(t.add(ae),t.add(qe))}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Q),e.LFG(p.K0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Jo=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function Qo(){return(0,e.f3M)(p.K0)}}),Go=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Le=(()=>{class o{constructor(t){if(this.value="ltr",this.change=new e.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Bo(o){const i=(null==o?void 0:o.toLowerCase())||"";return"auto"===i&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Go.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Jo,8))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),le=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({}),o})();function zo(o,i){1&o&&e.Hsn(0)}const Ho=["*"];let Je=(()=>{class o{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq))},o.\u0275dir=e.lG2({type:o,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),o})(),Qe=(()=>{class o{constructor(t){this.template=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.Rgc))},o.\u0275dir=e.lG2({type:o,selectors:[["","cdkStepLabel",""]]}),o})(),jo=0;const Ge=new e.OlP("STEPPER_GLOBAL_OPTIONS");let ce=(()=>{class o{constructor(t,n){this._stepper=t,this.interacted=!1,this.interactedStream=new e.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=n||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(t){this._editable=U(t)}get optional(){return this._optional}set optional(t){this._optional=U(t)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=U(t)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=U(t)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){var t;return null!==(t=this._stepperOptions.showError)&&void 0!==t?t:null!=this._customError}}return o.\u0275fac=function(t){return new(t||o)(e.Y36((0,e.Gpc)(()=>W)),e.Y36(Ge,8))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cdk-step"]],contentQueries:function(t,n,r){if(1&t&&e.Suo(r,Qe,5),2&t){let s;e.iGM(s=e.CRH())&&(n.stepLabel=s.first)}},viewQuery:function(t,n){if(1&t&&e.Gf(e.Rgc,7),2&t){let r;e.iGM(r=e.CRH())&&(n.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[e.TTD],ngContentSelectors:Ho,decls:1,vars:0,template:function(t,n){1&t&&(e.F$t(),e.YNc(0,zo,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),o})(),W=(()=>{class o{constructor(t,n,r,s){this._dir=t,this._changeDetectorRef=n,this._elementRef=r,this._destroyed=new C.x,this.steps=new e.n_E,this._sortedHeaders=new e.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new e.vpe,this._orientation="horizontal",this._groupId=jo++}get linear(){return this._linear}set linear(t){this._linear=U(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){var n;const r=function Ft(o,i=0){return function Rt(o){return!isNaN(parseFloat(o))&&!isNaN(Number(o))}(o)?Number(o):i}(t);this.steps&&this._steps?(this._isValidIndex(r),null===(n=this.selected)||void 0===n||n._markAsInteracted(),this._selectedIndex!==r&&!this._anyControlsInvalidOrPending(r)&&(r>=this._selectedIndex||this.steps.toArray()[r].editable)&&this._updateSelectedItemIndex(r)):this._selectedIndex=r}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===t)}ngAfterContentInit(){this._steps.changes.pipe((0,J.O)(this._steps),(0,I.R)(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(n=>n._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe((0,J.O)(this._stepHeader),(0,I.R)(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((n,r)=>n._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Do(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,k.of)()).pipe((0,J.O)(this._layoutDirection()),(0,I.R)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const n=t-this._selectedIndex;return n<0?"rtl"===this._layoutDirection()?"next":"previous":n>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,n="number"){const r=this.steps.toArray()[t],s=this._isCurrentStep(t);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,s):this._getGuidelineLogic(r,s,n)}_getDefaultIndicatorLogic(t,n){return t._showError()&&t.hasError&&!n?"error":!t.completed||n?"number":t.editable?"edit":"done"}_getGuidelineLogic(t,n,r="number"){return t._showError()&&t.hasError&&!n?"error":t.completed&&!n?"done":t.completed&&n?r:t.editable&&n?"edit":r}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const n=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:n[t],previouslySelectedStep:n[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()}_onKeydown(t){const n=Se(t),r=t.keyCode,s=this._keyManager;null==s.activeItemIndex||n||32!==r&&13!==r?s.onKeydown(t):(this.selectedIndex=s.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this._linear&&t>=0)&&this.steps.toArray().slice(0,t).some(n=>{const r=n.stepControl;return(r?r.invalid||r.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const t=this._elementRef.nativeElement,n=function Yt(){let o="undefined"!=typeof document&&document?document.activeElement:null;for(;o&&o.shadowRoot;){const i=o.shadowRoot.activeElement;if(i===o)break;o=i}return o}();return t===n||t.contains(n)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Le,8),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(p.K0))},o.\u0275dir=e.lG2({type:o,selectors:[["","cdkStepper",""]],contentQueries:function(t,n,r){if(1&t&&(e.Suo(r,ce,5),e.Suo(r,Je,5)),2&t){let s;e.iGM(s=e.CRH())&&(n._steps=s),e.iGM(s=e.CRH())&&(n._stepHeader=s)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),o})(),Yo=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[le]]}),o})();var Vo=u(6360);const Wo=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ko(){return!0}});let M=(()=>{class o{constructor(t,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Vt(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Lo),e.LFG(Wo,8),e.LFG(p.K0))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[le],le]}),o})();function He(o,i){return class extends o{constructor(...t){super(...t),this.defaultColor=i,this.color=i}get color(){return this._color}set color(t){const n=t||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}let de=(()=>{class o{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class Xo{constructor(i,t,n){this._renderer=i,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const je={enterDuration:225,exitDuration:150},ue=ne({passive:!0}),Ye=["mousedown","touchstart"],Ve=["mouseup","mouseleave","touchend","touchcancel"];class tn{constructor(i,t,n,r){this._target=i,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=L(n))}fadeInRipple(i,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},je),n.animation);n.centered&&(i=r.left+r.width/2,t=r.top+r.height/2);const a=n.radius||function nn(o,i,t){const n=Math.max(Math.abs(o-t.left),Math.abs(o-t.right)),r=Math.max(Math.abs(i-t.top),Math.abs(i-t.bottom));return Math.sqrt(n*n+r*r)}(i,t,r),l=i-r.left,m=t-r.top,_=s.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=l-a+"px",g.style.top=m-a+"px",g.style.height=2*a+"px",g.style.width=2*a+"px",null!=n.color&&(g.style.backgroundColor=n.color),g.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(g),function on(o){window.getComputedStyle(o).getPropertyValue("opacity")}(g),g.style.transform="scale(1)";const O=new Xo(this,g,n);return O.state=0,this._activeRipples.add(O),n.persistent||(this._mostRecentTransientRipple=O),this._runTimeoutOutsideZone(()=>{const Js=O===this._mostRecentTransientRipple;O.state=1,!n.persistent&&(!Js||!this._isPointerDown)&&O.fadeOut()},_),O}fadeOutRipple(i){const t=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=i.element,r=Object.assign(Object.assign({},je),i.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,n.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const t=L(i);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Ye))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ve),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const t=Pe(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!Ne(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=i.changedTouches;for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,t))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(t=>{this._triggerElement.addEventListener(t,this,ue)})})}_removeTriggerEvents(){this._triggerElement&&(Ye.forEach(i=>{this._triggerElement.removeEventListener(i,this,ue)}),this._pointerUpEventsRegistered&&Ve.forEach(i=>{this._triggerElement.removeEventListener(i,this,ue)}))}}const rn=new e.OlP("mat-ripple-global-options");let sn=(()=>{class o{constructor(t,n,r,s,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new tn(this,n,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(Q),e.Y36(rn,8),e.Y36(Vo.Qb,8))},o.\u0275dir=e.lG2({type:o,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),o})(),Ke=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[M,Bt],M]}),o})(),an=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[Ke,M],M]}),o})();var ln=u(576),dn=u(4128),un=u(262),pn=u(8746),mn=u(3099),We=u(520),$e=u(2313);const hn=["*"];let $;function H(o){var i;return(null===(i=function gn(){if(void 0===$&&($=null,"undefined"!=typeof window)){const o=window;void 0!==o.trustedTypes&&($=o.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return $}())||void 0===i?void 0:i.createHTML(o))||o}function Xe(o){return Error(`Unable to find icon with the name "${o}"`)}function et(o){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${o}".`)}function tt(o){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${o}".`)}class E{constructor(i,t,n){this.url=i,this.svgText=t,this.options=n}}let X=(()=>{class o{constructor(t,n,r,s){this._httpClient=t,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,n,r){return this.addSvgIconInNamespace("",t,n,r)}addSvgIconLiteral(t,n,r){return this.addSvgIconLiteralInNamespace("",t,n,r)}addSvgIconInNamespace(t,n,r,s){return this._addSvgIconConfig(t,n,new E(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,r,s){const a=this._sanitizer.sanitize(e.q3G.HTML,r);if(!a)throw tt(r);const l=H(a);return this._addSvgIconConfig(t,n,new E("",l,s))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,r){return this._addSvgIconSetConfig(t,new E(n,null,r))}addSvgIconSetLiteralInNamespace(t,n,r){const s=this._sanitizer.sanitize(e.q3G.HTML,n);if(!s)throw tt(n);const a=H(s);return this._addSvgIconSetConfig(t,new E("",a,r))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const n=this._sanitizer.sanitize(e.q3G.RESOURCE_URL,t);if(!n)throw et(t);const r=this._cachedIconsByUrl.get(n);return r?(0,k.of)(ee(r)):this._loadSvgIconFromConfig(new E(t,null)).pipe((0,V.b)(s=>this._cachedIconsByUrl.set(n,s)),(0,w.U)(s=>ee(s)))}getNamedSvgIcon(t,n=""){const r=ot(n,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(t,a):function cn(o,i){const t=(0,ln.m)(o)?o:()=>o,n=r=>r.error(t());return new ye.y(i?r=>i.schedule(n,0,r):n)}(Xe(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,k.of)(ee(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,w.U)(n=>ee(n)))}_getSvgFromIconSetConfigs(t,n){const r=this._extractIconWithNameFromAnySet(t,n);if(r)return(0,k.of)(r);const s=n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe((0,un.K)(l=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(e.q3G.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(_)),(0,k.of)(null)})));return(0,dn.D)(s).pipe((0,w.U)(()=>{const a=this._extractIconWithNameFromAnySet(t,n);if(!a)throw Xe(t);return a}))}_extractIconWithNameFromAnySet(t,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,t,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,V.b)(n=>t.svgText=n),(0,w.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,k.of)(null):this._fetchIcon(t).pipe((0,V.b)(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,r){const s=t.querySelector(`[id="${n}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const l=this._svgElementFromString(H("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,r)}_svgElementFromString(t){const n=this._document.createElement("DIV");n.innerHTML=t;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const n=this._svgElementFromString(H("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:a,value:l}=r[s];"id"!==a&&n.setAttribute(a,l)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){var n;const{url:r,options:s}=t,a=null!==(n=null==s?void 0:s.withCredentials)&&void 0!==n&&n;if(!this._httpClient)throw function _n(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(e.q3G.RESOURCE_URL,r);if(!l)throw et(r);const m=this._inProgressUrlFetches.get(l);if(m)return m;const _=this._httpClient.get(l,{responseType:"text",withCredentials:a}).pipe((0,w.U)(g=>H(g)),(0,pn.x)(()=>this._inProgressUrlFetches.delete(l)),(0,mn.B)());return this._inProgressUrlFetches.set(l,_),_}_addSvgIconConfig(t,n,r){return this._svgIconConfigs.set(ot(t,n),r),this}_addSvgIconSetConfig(t,n){const r=this._iconSetConfigs.get(t);return r?r.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){const n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,t);if(s)return vn(s)?new E(s.url,null,s.options):new E(s,null)}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(We.eN,8),e.LFG($e.H7),e.LFG(p.K0,8),e.LFG(e.qLn))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ee(o){return o.cloneNode(!0)}function ot(o,i){return o+":"+i}function vn(o){return!(!o.url||!o.options)}const bn=He(class{constructor(o){this._elementRef=o}}),xn=new e.OlP("mat-icon-location",{providedIn:"root",factory:function yn(){const o=(0,e.f3M)(p.K0),i=o?o.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),nt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Tn=nt.map(o=>`[${o}]`).join(", "),wn=/^url\(['"]?#(.*?)['"]?\)$/;let Cn=(()=>{class o extends bn{constructor(t,n,r,s,a){super(t),this._iconRegistry=n,this._location=s,this._errorHandler=a,this._inline=!1,this._currentIconFetch=se.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=U(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const n=t.querySelectorAll("style");for(let s=0;s<n.length;s++)n[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=t.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),n&&t.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const n=t.querySelectorAll(Tn),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)nt.forEach(a=>{const l=n[s],m=l.getAttribute(a),_=m?m.match(wn):null;if(_){let g=r.get(l);g||(g=[],r.set(l,g)),g.push({name:a,value:_[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[n,r]=this._splitIconName(t);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe((0,Te.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(X),e.$8M("aria-hidden"),e.Y36(xn),e.Y36(e.qLn))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,n){2&t&&(e.uIk("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),e.ekj("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[e.qOj],ngContentSelectors:hn,decls:1,vars:0,template:function(t,n){1&t&&(e.F$t(),e.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),o})(),An=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[M],M]}),o})();var Zn=u(3900),f=u(1777);function Mn(o,i){if(1&o&&e.GkF(0,8),2&o){const t=e.oxw();e.Q6J("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function Dn(o,i){if(1&o&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t._getDefaultTextForState(t.state))}}function In(o,i){if(1&o&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t._intl.completedLabel)}}function Sn(o,i){if(1&o&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t._intl.editableLabel)}}function kn(o,i){if(1&o&&(e.TgZ(0,"mat-icon",13),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t._getDefaultTextForState(t.state))}}function En(o,i){if(1&o&&(e.ynx(0,9),e.YNc(1,Dn,2,1,"span",10),e.YNc(2,In,2,1,"span",11),e.YNc(3,Sn,2,1,"span",11),e.YNc(4,kn,2,1,"mat-icon",12),e.BQk()),2&o){const t=e.oxw();e.Q6J("ngSwitch",t.state),e.xp6(1),e.Q6J("ngSwitchCase","number"),e.xp6(1),e.Q6J("ngIf","done"===t.state),e.xp6(1),e.Q6J("ngIf","edit"===t.state)}}function On(o,i){if(1&o&&(e.TgZ(0,"div",15),e.GkF(1,16),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t._templateLabel().template)}}function Un(o,i){if(1&o&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.label)}}function Pn(o,i){if(1&o&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t._intl.optionalLabel)}}function Nn(o,i){if(1&o&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMessage)}}function Fn(o,i){}function Rn(o,i){if(1&o&&(e.Hsn(0),e.YNc(1,Fn,0,0,"ng-template",0)),2&o){const t=e.oxw();e.xp6(1),e.Q6J("cdkPortalOutlet",t._portal)}}const qn=["*"];function Ln(o,i){1&o&&e._UZ(0,"div",9)}const it=function(o,i){return{step:o,i}};function Jn(o,i){if(1&o&&(e.ynx(0),e.GkF(1,7),e.YNc(2,Ln,1,0,"div",8),e.BQk()),2&o){const t=i.$implicit,n=i.index,r=i.last;e.oxw(2);const s=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.WLB(3,it,t,n)),e.xp6(1),e.Q6J("ngIf",!r)}}function Qn(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("@horizontalStepTransition.done",function(r){return e.CHM(t),e.oxw(2)._animationDone.next(r)}),e.GkF(1,11),e.qZA()}if(2&o){const t=i.$implicit,n=i.index,r=e.oxw(2);e.Q6J("@horizontalStepTransition",r._getAnimationDirection(n))("id",r._getStepContentId(n)),e.uIk("aria-labelledby",r._getStepLabelId(n))("aria-expanded",r.selectedIndex===n),e.xp6(1),e.Q6J("ngTemplateOutlet",t.content)}}function Gn(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"div",3),e.YNc(2,Jn,3,6,"ng-container",4),e.qZA(),e.TgZ(3,"div",5),e.YNc(4,Qn,2,5,"div",6),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.steps),e.xp6(2),e.Q6J("ngForOf",t.steps)}}function Bn(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",13),e.GkF(1,7),e.TgZ(2,"div",14),e.TgZ(3,"div",15),e.NdJ("@verticalStepTransition.done",function(r){return e.CHM(t),e.oxw(2)._animationDone.next(r)}),e.TgZ(4,"div",16),e.GkF(5,11),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=i.$implicit,n=i.index,r=i.last,s=e.oxw(2),a=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(9,it,t,n)),e.xp6(1),e.ekj("mat-stepper-vertical-line",!r),e.xp6(1),e.Q6J("@verticalStepTransition",s._getAnimationDirection(n))("id",s._getStepContentId(n)),e.uIk("aria-labelledby",s._getStepLabelId(n))("aria-expanded",s.selectedIndex===n),e.xp6(2),e.Q6J("ngTemplateOutlet",t.content)}}function zn(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Bn,6,12,"div",12),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.steps)}}function Hn(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"mat-step-header",17),e.NdJ("click",function(){return e.CHM(t).step.select()})("keydown",function(r){return e.CHM(t),e.oxw()._onKeydown(r)}),e.qZA()}if(2&o){const t=i.step,n=i.i,r=e.oxw();e.ekj("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),e.Q6J("tabIndex",r._getFocusIndex()===n?0:-1)("id",r._getStepLabelId(n))("index",n)("state",r._getIndicatorType(n,t.state))("label",t.stepLabel||t.label)("selected",r.selectedIndex===n)("active",r._stepIsNavigable(n,t))("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(n,t))("color",t.color||r.color),e.uIk("aria-posinset",n+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(n,t)||null)}}let j=(()=>{class o extends Qe{}return o.\u0275fac=function(){let i;return function(n){return(i||(i=e.n5z(o)))(n||o)}}(),o.\u0275dir=e.lG2({type:o,selectors:[["","matStepLabel",""]],features:[e.qOj]}),o})(),te=(()=>{class o{constructor(){this.changes=new C.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Yn={provide:te,deps:[[new e.FiY,new e.tp0,te]],useFactory:function jn(o){return o||new te}},Vn=He(class extends Je{constructor(i){super(i)}},"primary");let rt=(()=>{class o extends Vn{constructor(t,n,r,s){super(r),this._intl=t,this._focusMonitor=n,this._intlSubscription=t.changes.subscribe(()=>s.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,n){t?this._focusMonitor.focusVia(this._elementRef,t,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof j?null:this.label}_templateLabel(){return this.label instanceof j?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(te),e.Y36(qo),e.Y36(e.SBq),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[e.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,n){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"div",1),e.YNc(3,Mn,1,2,"ng-container",2),e.YNc(4,En,5,4,"ng-container",3),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,On,2,1,"div",5),e.YNc(7,Un,2,1,"div",5),e.YNc(8,Pn,2,1,"div",6),e.YNc(9,Nn,2,1,"div",7),e.qZA()),2&t&&(e.Q6J("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),e.xp6(1),e.Gre("mat-step-icon-state-",n.state," mat-step-icon"),e.ekj("mat-step-icon-selected",n.selected),e.xp6(1),e.Q6J("ngSwitch",!(!n.iconOverrides||!n.iconOverrides[n.state])),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(2),e.ekj("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error","error"==n.state),e.xp6(1),e.Q6J("ngIf",n._templateLabel()),e.xp6(1),e.Q6J("ngIf",n._stringLabel()),e.xp6(1),e.Q6J("ngIf",n.optional&&"error"!=n.state),e.xp6(1),e.Q6J("ngIf","error"==n.state))},directives:[Cn,sn,p.RF,p.n9,p.tP,p.ED,p.O5],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header.cdk-keyboard-focused,.cdk-high-contrast-active .mat-step-header.cdk-program-focused{outline:solid 3px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),o})();const st={horizontalStepTransition:(0,f.X$)("horizontalStepTransition",[(0,f.SB)("previous",(0,f.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,f.SB)("current",(0,f.oB)({transform:"none",visibility:"inherit"})),(0,f.SB)("next",(0,f.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,f.eR)("* => *",(0,f.jt)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:(0,f.X$)("verticalStepTransition",[(0,f.SB)("previous",(0,f.oB)({height:"0px",visibility:"hidden"})),(0,f.SB)("next",(0,f.oB)({height:"0px",visibility:"hidden"})),(0,f.SB)("current",(0,f.oB)({height:"*",visibility:"inherit"})),(0,f.eR)("* <=> current",(0,f.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let Kn=(()=>{class o{constructor(t){this.templateRef=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.Rgc))},o.\u0275dir=e.lG2({type:o,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),o})(),Wn=(()=>{class o{constructor(t){this._template=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.Rgc))},o.\u0275dir=e.lG2({type:o,selectors:[["ng-template","matStepContent",""]]}),o})(),pe=(()=>{class o extends ce{constructor(t,n,r,s){super(t,s),this._errorStateMatcher=n,this._viewContainerRef=r,this._isSelected=se.w0.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,Zn.w)(()=>this._stepper.selectionChange.pipe((0,w.U)(t=>t.selectedStep===this),(0,J.O)(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new Ie(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,n){return this._errorStateMatcher.isErrorState(t,n)||!!(t&&t.invalid&&this.interacted)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36((0,e.Gpc)(()=>me)),e.Y36(de,4),e.Y36(e.s_b),e.Y36(Ge,8))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-step"]],contentQueries:function(t,n,r){if(1&t&&(e.Suo(r,j,5),e.Suo(r,Wn,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.stepLabel=s.first),e.iGM(s=e.CRH())&&(n._lazyContent=s.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[e._Bn([{provide:de,useExisting:o},{provide:ce,useExisting:o}]),e.qOj],ngContentSelectors:qn,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(t,n){1&t&&(e.F$t(),e.YNc(0,Rn,2,1,"ng-template"))},directives:[oo],encapsulation:2,changeDetection:0}),o})(),at=(()=>{class o extends W{}return o.\u0275fac=function(){let i;return function(n){return(i||(i=e.n5z(o)))(n||o)}}(),o.\u0275dir=e.lG2({type:o,features:[e.qOj]}),o})(),$n=(()=>{class o extends at{}return o.\u0275fac=function(){let i;return function(n){return(i||(i=e.n5z(o)))(n||o)}}(),o.\u0275dir=e.lG2({type:o,selectors:[["mat-horizontal-stepper"]],features:[e.qOj]}),o})(),Xn=(()=>{class o extends at{}return o.\u0275fac=function(){let i;return function(n){return(i||(i=e.n5z(o)))(n||o)}}(),o.\u0275dir=e.lG2({type:o,selectors:[["mat-vertical-stepper"]],features:[e.qOj]}),o})(),me=(()=>{class o extends W{constructor(t,n,r,s){super(t,n,r,s),this.steps=new e.n_E,this.animationDone=new e.vpe,this.labelPosition="end",this._iconOverrides={},this._animationDone=new C.x;const a=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===a?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:n})=>this._iconOverrides[t]=n),this.steps.changes.pipe((0,I.R)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe((0,ke.x)((t,n)=>t.fromState===n.fromState&&t.toState===n.toState),(0,I.R)(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}_stepIsNavigable(t,n){return n.completed||this.selectedIndex===t||!this.linear}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Le,8),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(p.K0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(t,n,r){if(1&t&&(e.Suo(r,pe,5),e.Suo(r,Kn,5)),2&t){let s;e.iGM(s=e.CRH())&&(n._steps=s),e.iGM(s=e.CRH())&&(n._icons=s)}},viewQuery:function(t,n){if(1&t&&e.Gf(rt,5),2&t){let r;e.iGM(r=e.CRH())&&(n._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:9,hostBindings:function(t,n){2&t&&(e.uIk("aria-orientation",n.orientation),e.ekj("mat-stepper-horizontal","horizontal"===n.orientation)("mat-stepper-vertical","vertical"===n.orientation)("mat-stepper-label-position-end","horizontal"===n.orientation&&"end"==n.labelPosition)("mat-stepper-label-position-bottom","horizontal"===n.orientation&&"bottom"==n.labelPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[e._Bn([{provide:W,useExisting:o},{provide:$n,useExisting:o},{provide:Xn,useExisting:o}]),e.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(t,n){1&t&&(e.ynx(0,0),e.YNc(1,Gn,5,2,"ng-container",1),e.YNc(2,zn,2,1,"ng-container",1),e.BQk(),e.YNc(3,Hn,1,23,"ng-template",null,2,e.W1O)),2&t&&(e.Q6J("ngSwitch",n.orientation),e.xp6(1),e.Q6J("ngSwitchCase","horizontal"),e.xp6(1),e.Q6J("ngSwitchCase","vertical"))},directives:[rt,p.RF,p.n9,p.sg,p.tP,p.O5],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[st.horizontalStepTransition,st.verticalStepTransition]},changeDetection:0}),o})(),ei=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[Yn,de],imports:[[M,p.ez,no,an,Yo,An,Ke],M]}),o})();var v=u(8986);const ti=["stepper"];function oi(o,i){1&o&&e._uU(0,"Details")}function ni(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.core.isEmptyOrNull(t.serviceFormGroup.value.service)?"Select a service":null==t.serviceFormGroup.value.service?null:t.serviceFormGroup.value.service.service)}}function ii(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"a",52),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().selectService(s)}),e._uU(1),e.qZA()}if(2&o){const t=i.$implicit;e.xp6(1),e.Oqu(null==t?null:t.service)}}function ri(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1,"Select resources"),e.qZA())}const si=function(o){return{"d-none":o}};function ai(o,i){if(1&o&&(e.TgZ(0,"div",58),e.TgZ(1,"div",54),e._UZ(2,"input",59),e.TgZ(3,"label",60),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&o){const t=i.$implicit,n=i.index;e.Q6J("ngClass",e.VKq(5,si,"*"==t)),e.xp6(2),e.Q6J("id",t)("formControlName",n),e.xp6(1),e.Q6J("for",t),e.xp6(1),e.hij(" ","*"==t?"Select all resources":t," ")}}function li(o,i){if(1&o&&(e.TgZ(0,"div",27),e.TgZ(1,"div",53),e.TgZ(2,"div",54),e._UZ(3,"input",55),e.TgZ(4,"label",56),e._uU(5," Select all resources "),e.qZA(),e.qZA(),e.qZA(),e.YNc(6,ai,5,7,"div",57),e.qZA()),2&o){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",null==t.serviceFormGroup.value.service?null:t.serviceFormGroup.value.service.resources)}}function ci(o,i){1&o&&e._uU(0,"Tags")}function di(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Key can contain alphanumeric characters, or any of the following: _.:/=+-@ "),e.qZA())}function ui(o,i){if(1&o&&(e.TgZ(0,"div",70),e.YNc(1,di,2,0,"div",18),e.qZA()),2&o){e.oxw();const t=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function pi(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Value can contain alphanumeric characters, or any of the following: _.:/=+-@ "),e.qZA())}function mi(o,i){if(1&o&&(e.TgZ(0,"div",70),e.YNc(1,pi,2,0,"div",18),e.qZA()),2&o){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function hi(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index;return e.oxw().addTag(r)}),e._UZ(1,"i",72),e._uU(2," Add tag "),e.qZA()}if(2&o){const t=e.oxw().$implicit,n=e.MAs(3),r=e.MAs(7),s=e.oxw();e.Q6J("disabled",!(!s.core.isEmptyOrNull(t.key)&&n.valid)||r.invalid)}}function gi(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"i",73),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index;return e.oxw().removeTag(r)}),e.qZA()}}const lt=function(){return{standalone:!0}},ct=function(o){return{validateInput:o}};function _i(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",44),e.TgZ(2,"input",61,62),e.NdJ("ngModelChange",function(r){return e.CHM(t).$implicit.key=r}),e.qZA(),e.YNc(4,ui,2,1,"div",63),e.qZA(),e.TgZ(5,"td",64),e.TgZ(6,"input",65,66),e.NdJ("ngModelChange",function(r){return e.CHM(t).$implicit.value=r}),e.qZA(),e.YNc(8,mi,2,1,"div",63),e.qZA(),e.TgZ(9,"td",67),e.YNc(10,hi,3,1,"button",68),e.YNc(11,gi,1,0,"i",69),e.qZA(),e.qZA()}if(2&o){const t=i.$implicit,n=i.index,r=e.MAs(3),s=e.MAs(7),a=e.oxw();e.xp6(2),e.Q6J("ngModel",t.key)("ngModelOptions",e.DdM(14,lt))("pattern",a.core.tagPatten)("disabled",t.disabled)("ngClass",e.VKq(15,ct,r.dirty&&r.invalid)),e.xp6(2),e.Q6J("ngIf",r.invalid),e.xp6(2),e.Q6J("ngModel",t.value)("ngModelOptions",e.DdM(17,lt))("pattern",a.core.tagPatten)("disabled",t.disabled)("ngClass",e.VKq(18,ct,s.dirty&&s.invalid)),e.xp6(2),e.Q6J("ngIf",s.invalid),e.xp6(2),e.Q6J("ngIf",a.tags.length-1===n),e.xp6(1),e.Q6J("ngIf",a.tags.length-1!==n)}}function fi(o,i){1&o&&e._uU(0,"Summary")}function vi(o,i){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td",74),e._uU(2),e.qZA(),e.TgZ(3,"td",74),e._uU(4),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(2),e.hij(" ",t.key," "),e.xp6(2),e.hij(" ",t.value," ")}}function bi(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(18).previous()}),e._uU(1," Previous "),e.qZA()}}function xi(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),s=e.MAs(18);return r.nextStep(s)}),e._uU(1," Next: Tags "),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.serviceFormGroup.invalid)}}function yi(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),s=e.MAs(18);return r.nextStep(s)}),e._uU(1," Next: Summary "),e.qZA()}}function Ti(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){return e.CHM(t),e.oxw().createPolicy()}),e._uU(1," Create policy "),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.policyDetailsFormGroup.invalid)}}const wi=function(){return["/console/idap/dashboard"]},dt=function(){return["/console/idap/policies"]},Ci=function(o,i){return{"fa-caret-right":o,"fa-caret-down":i}},Ai=function(){return[]};let Zi=(()=>{class o{constructor(t,n,r,s,a){this.core=t,this.idapService=n,this.fb=r,this.router=s,this.loadingData=!1,this.isServiceCollapsed=!1,this.services=[],this.resourcesInUse=[],this.selectedResources=[],this.isLinear=!0,this.tags=[{key:"",value:"",disabled:!1}],this.tempLocalStorageKeys=["policy-service-data","policy-details-data"],this.stepperOrientation=a.observe("(min-width: 600px)").pipe((0,w.U)(({matches:l})=>l?"horizontal":"vertical"))}ngOnInit(){this.initServiceForm(),this.loadServiceForm(),this.initPolicyForm(),this.getServices(),this.serviceFormGroup.controls.resourceArray.valueChanges.subscribe(t=>{t.forEach((n,r)=>{if(0===r&&n)this.selectedResources=[],this.selectedResources.push("*");else if(0!==r||n){if(n)this.selectedResources.push(this.resourcesInUse[r]);else if(!n){let s=this.selectedResources.findIndex(a=>a===this.resourcesInUse[r]);-1!=s&&this.selectedResources.splice(s,1)}}else this.selectedResources=[];this.serviceFormGroup.controls.resources.setValue(this.selectedResources)})}),this.serviceFormGroup.controls.allResources.valueChanges.subscribe(t=>{if(1==t){this.resourcesFormArray.controls[0].setValue(t);for(let n=1;n<this.resourcesFormArray.controls.length;n++)this.resourcesFormArray.controls[n].setValue(t),this.resourcesFormArray.controls[n].disable()}else{this.resourcesFormArray.controls[0].setValue(t);for(let n=1;n<this.resourcesFormArray.controls.length;n++)this.resourcesFormArray.controls[n].enable(),this.resourcesFormArray.controls[n].setValue(t)}})}ngAfterViewInit(){let t;this.core.isEmptyOrNull(localStorage.getItem(this.tempLocalStorageKeys[1]))?this.core.isEmptyOrNull(localStorage.getItem(this.tempLocalStorageKeys[0]))||(t=JSON.parse(localStorage.getItem(this.tempLocalStorageKeys[0])),this.stepper.selectedIndex=null!=t||null!=t?t.completedStep+1:0):(t=JSON.parse(localStorage.getItem(this.tempLocalStorageKeys[1])),this.stepper.selectedIndex=null!=t||null!=t?t.completedStep:0,this.stepper.selectedIndex=null!=t||null!=t?t.completedStep+1:0)}initServiceForm(){this.serviceFormGroup=this.fb.group({service:["",c.kI.required],allResources:[],resources:["",c.kI.required],resourceArray:new c.Oe([]),tags:[]})}loadServiceForm(){if(!this.core.isEmptyOrNull(localStorage.getItem(this.tempLocalStorageKeys[0]))){let t=JSON.parse(localStorage.getItem(this.tempLocalStorageKeys[0]));t.resourceArray.forEach(n=>this.resourcesFormArray.push(new c.NI(n))),this.resourcesInUse=t.service.resources,this.tags=null==t.tags||0==t.tags.length?[{key:"",value:"",disabled:!1}]:t.tags,this.serviceFormGroup.patchValue({service:t.service,allResources:t.allResources,resources:t.resources,tags:t.tags})}}initPolicyForm(){this.policyDetailsFormGroup=this.fb.group({policyName:["",c.kI.compose([c.kI.required,c.kI.maxLength(128),c.kI.minLength(3)])],description:["",c.kI.compose([c.kI.maxLength(1e3),c.kI.minLength(3)])]})}get resourcesFormArray(){return this.serviceFormGroup.controls.resourceArray}selectService(t){this.serviceFormGroup.controls.service.setValue(t),this.resourcesInUse=t.resources,this.isServiceCollapsed=!this.isServiceCollapsed,this.resourcesFormArray.clear(),this.serviceFormGroup.value.service.resources.forEach(()=>this.resourcesFormArray.push(new c.NI(!1)))}addTag(t){this.tags[t].disabled=!0,this.tags.push({key:"",value:"",disabled:!1})}removeTag(t){this.tags.splice(t,1)}createPolicy(){var t=this;return(0,b.Z)(function*(){try{t.loadingData=!0;let n={policyName:t.policyDetailsFormGroup.value.policyName,description:t.policyDetailsFormGroup.value.description,policyDocument:{actions:[{service:t.serviceFormGroup.value.service.service,resources:t.serviceFormGroup.value.resources}],effect:"allow"},tags:t.serviceFormGroup.value.tags};yield t.idapService.createPolicy(n),t.loadingData=!1,t.router.navigate(["/console/idap/policies"])}catch(n){t.loadingData=!1}})()}getServices(){this.loadingData=!0,this.idapService.getServices().then(t=>{this.loadingData=!1,this.services=t.data.actions}).catch(()=>{this.loadingData=!1})}nextStep(t){if(0==t.selectedIndex)localStorage.setItem(this.tempLocalStorageKeys[0],JSON.stringify(Object.assign(Object.assign({},this.serviceFormGroup.getRawValue()),{completedStep:t.selectedIndex}))),t.next();else if(1==t.selectedIndex){let n=this.core._lodashRef.cloneDeep(this.tags);n.splice(n.length-1,1),n.map(r=>{this.core.sanitiseRequestObject(r,"","disabled")}),this.serviceFormGroup.controls.tags.setValue([...n]),localStorage.setItem(this.tempLocalStorageKeys[0],JSON.stringify(Object.assign(Object.assign({},this.serviceFormGroup.getRawValue()),{completedStep:t.selectedIndex}))),t.next()}else this.serviceFormGroup.reset(),this.policyDetailsFormGroup.reset(),t.reset(),this.tempLocalStorageKeys.forEach(n=>{localStorage.removeItem(n)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(T.t),e.Y36(c.qu),e.Y36(h.F0),e.Y36(Me))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-policy"]],viewQuery:function(t,n){if(1&t&&e.Gf(ti,5),2&t){let r;e.iGM(r=e.CRH())&&(n.stepper=r.first)}},decls:138,vars:33,consts:[[1,"container-fluid"],[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"row","pt-3","align-items-center"],[1,"col"],[1,"row","mat-typography"],["labelPosition","bottom",3,"linear","orientation"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"mb-1","mt-3","fw-bold"],[1,"mt-1"],[1,"row","justify-content-center","align-items-center","pt-2","pb-2","row-selector"],["type","button","aria-controls","mobileContent","aria-label","Toggle navigation",1,"col","col-sm-4","d-sm-flex","justify-content-sm-end",3,"click"],[1,"fa","fa-lg","align-self-center","pe-2",3,"ngClass"],[1,"form-label","fw-bold"],[1,"col","col-sm-8"],[4,"ngIf"],["id","selectService",3,"ngbCollapse","ngbCollapseChange"],[1,"d-flex","flex-row"],["class","me-4 text-button",3,"click",4,"ngFor","ngForOf"],[1,"row","justify-content-center","pt-2","pb-2","row-selector"],[1,"col","col-sm-4","d-sm-flex","justify-content-sm-end"],["for","groupName",1,"form-label","fw-bold","mt-0"],["class","row",4,"ngIf"],[1,"mt-1","mb-1"],[1,"row"],[1,"col","table-responsive","pb-2"],[1,"table","mb-1"],[1,"table-light"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"col","col-sm-3","d-flex","justify-content-end"],["for","policyName",1,"form-label","fw-bold"],[1,"col","col-sm-5"],["type","text","id","policyName","formControlName","policyName",1,"form-control","form-control-sm"],[1,"form-text"],[1,"row","mt-3"],["for","description",1,"form-label","fw-bold"],[1,"col","col-sm-9"],["id","description","rows","2","formControlName","description",1,"form-control","form-control-sm"],[1,"row","mt-4"],["width","20%"],[1,"mt-4"],[1,"fw-bold"],[1,"col","d-flex","justify-content-end","align-items-center"],["class","btn btn-sm btn-secondary ms-3",3,"click",4,"ngIf"],["class","btn btn-sm btn-custom-secondary ms-3",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-custom-secondary ms-3",3,"click",4,"ngIf"],[3,"show"],[1,"me-4","text-button",3,"click"],[1,"col-12"],[1,"form-check"],["type","checkbox","id","allResources","formControlName","allResources",1,"form-check-input"],["for","allResources",1,"form-check-label"],["class","col-4","formArrayName","resourceArray",3,"ngClass",4,"ngFor","ngForOf"],["formArrayName","resourceArray",1,"col-4",3,"ngClass"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],["type","text","placeholder","Add new key",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","pattern","disabled","ngClass","ngModelChange"],["key","ngModel"],["class","invalid-feedback d-block",4,"ngIf"],["width","68%"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","pattern","disabled","ngClass","ngModelChange"],["value","ngModel"],[1,"text-center","align-middle"],["class","btn btn-sm btn-custom-primary",3,"disabled","click",4,"ngIf"],["class","fas fa-times",3,"click",4,"ngIf"],[1,"invalid-feedback","d-block"],[1,"btn","btn-sm","btn-custom-primary",3,"disabled","click"],[1,"fas","fa-plus"],[1,"fas","fa-times",3,"click"],["width","50%"],[1,"btn","btn-sm","btn-secondary","ms-3",3,"click"],[1,"btn","btn-sm","btn-custom-secondary","ms-3",3,"disabled","click"],[1,"btn","btn-sm","btn-custom-secondary","ms-3",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"a",1),e._uU(3,"IDAP"),e.qZA(),e._uU(4," \xa0 "),e._UZ(5,"i",2),e._uU(6," \xa0 "),e.TgZ(7,"a",1),e._uU(8,"Policies"),e.qZA(),e._uU(9," \xa0 "),e._UZ(10,"i",2),e._uU(11," \xa0 Create policy "),e.qZA(),e.TgZ(12,"div",3),e.TgZ(13,"div",4),e.TgZ(14,"h3"),e._uU(15,"Create policy"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",5),e.TgZ(17,"mat-stepper",6,7),e.ALo(19,"async"),e.TgZ(20,"mat-step",8),e.TgZ(21,"form",9),e.YNc(22,oi,1,0,"ng-template",10),e.TgZ(23,"h4",11),e._uU(24,"Set policy service details"),e.qZA(),e._UZ(25,"hr",12),e.TgZ(26,"div",13),e.TgZ(27,"div",14),e.NdJ("click",function(){return n.isServiceCollapsed=!n.isServiceCollapsed}),e._UZ(28,"i",15),e.TgZ(29,"label",16),e._uU(30,"Service"),e.TgZ(31,"span"),e._uU(32,"*"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",17),e.YNc(34,ni,2,1,"span",18),e.TgZ(35,"div",19),e.NdJ("ngbCollapseChange",function(s){return!(n.isServiceCollapsed=s)}),e.TgZ(36,"div",20),e.YNc(37,ii,2,1,"a",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",22),e.TgZ(39,"div",23),e.TgZ(40,"label",24),e._uU(41,"Resources"),e.TgZ(42,"span"),e._uU(43,"*"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",17),e.YNc(45,ri,2,0,"span",18),e.YNc(46,li,7,1,"div",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"mat-step"),e.YNc(48,ci,1,0,"ng-template",10),e.TgZ(49,"h4",11),e._uU(50,"Add tags"),e.qZA(),e._UZ(51,"hr",26),e.TgZ(52,"div",27),e.TgZ(53,"p"),e._uU(54,"IDAP tags are key-value pairs you can add to your user. Tags can include user information, such as an email address, or can be descriptive, such as a job title. You can use the tags to organize, track, or control access for this user."),e.qZA(),e.TgZ(55,"div",28),e.TgZ(56,"table",29),e.TgZ(57,"thead",30),e.TgZ(58,"tr"),e.TgZ(59,"th",31),e._uU(60,"Key*"),e.qZA(),e.TgZ(61,"th",31),e._uU(62,"Value"),e.qZA(),e.TgZ(63,"th",32),e._uU(64,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"tbody"),e.YNc(66,_i,12,20,"tr",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"mat-step"),e.YNc(68,fi,1,0,"ng-template",10),e.TgZ(69,"form",9),e.TgZ(70,"h4",11),e._uU(71,"Policy summary"),e.qZA(),e._UZ(72,"hr",12),e.TgZ(73,"div",27),e.TgZ(74,"div",34),e.TgZ(75,"label",35),e._uU(76,"Policy name"),e.TgZ(77,"span"),e._uU(78,"*"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(79,"div",36),e._UZ(80,"input",37),e.TgZ(81,"small",38),e._uU(82," Maximum 128 characters. Use alphanumeric and '+=,.@-_' characters. "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(83,"div",39),e.TgZ(84,"div",34),e.TgZ(85,"label",40),e._uU(86,"Policy description"),e.qZA(),e.qZA(),e.TgZ(87,"div",41),e._UZ(88,"textarea",42),e.TgZ(89,"small",38),e._uU(90," Maximum 1000 characters. Use alphanumeric and '+=,.@-_' characters. "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",43),e.TgZ(92,"div",34),e.TgZ(93,"label",40),e._uU(94,"Summary"),e.qZA(),e.qZA(),e.TgZ(95,"div",41),e.TgZ(96,"div",28),e.TgZ(97,"table",29),e.TgZ(98,"thead",30),e.TgZ(99,"tr"),e.TgZ(100,"th",31),e._uU(101,"Service"),e.qZA(),e.TgZ(102,"th",31),e._uU(103,"Resources"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(104,"tbody"),e.TgZ(105,"tr"),e.TgZ(106,"td",44),e._uU(107),e.qZA(),e.TgZ(108,"td"),e._uU(109),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(110,"div",43),e.TgZ(111,"div",34),e.TgZ(112,"label",40),e._uU(113,"Tags"),e.qZA(),e.qZA(),e.TgZ(114,"div",41),e.TgZ(115,"div",28),e.TgZ(116,"table",29),e.TgZ(117,"thead",30),e.TgZ(118,"tr"),e.TgZ(119,"th",31),e._uU(120,"Key"),e.qZA(),e.TgZ(121,"th",31),e._uU(122,"Value"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(123,"tbody"),e.YNc(124,vi,5,2,"tr",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(125,"hr",45),e.TgZ(126,"div",27),e.TgZ(127,"div",4),e.TgZ(128,"span",46),e._uU(129,"* Required"),e.qZA(),e.qZA(),e.TgZ(130,"div",47),e.TgZ(131,"a",1),e._uU(132,"Close"),e.qZA(),e.YNc(133,bi,2,0,"button",48),e.YNc(134,xi,2,1,"button",49),e.YNc(135,yi,2,0,"button",50),e.YNc(136,Ti,2,1,"button",49),e.qZA(),e.qZA(),e.qZA(),e._UZ(137,"ngx-loading",51)),2&t){const r=e.MAs(18);e.xp6(2),e.Q6J("routerLink",e.DdM(26,wi)),e.xp6(5),e.Q6J("routerLink",e.DdM(27,dt)),e.xp6(10),e.Q6J("linear",n.isLinear)("orientation",e.lcZ(19,24,n.stepperOrientation)),e.xp6(3),e.Q6J("stepControl",n.serviceFormGroup),e.xp6(1),e.Q6J("formGroup",n.serviceFormGroup),e.xp6(6),e.uIk("aria-expanded",n.isServiceCollapsed),e.xp6(1),e.Q6J("ngClass",e.WLB(28,Ci,!n.isServiceCollapsed,n.isServiceCollapsed)),e.xp6(6),e.Q6J("ngIf",!n.isServiceCollapsed),e.xp6(1),e.Q6J("ngbCollapse",!n.isServiceCollapsed),e.xp6(2),e.Q6J("ngForOf",n.services),e.xp6(8),e.Q6J("ngIf",n.core.isEmptyOrNull(n.serviceFormGroup.value.service)),e.xp6(1),e.Q6J("ngIf",!n.core.isEmptyOrNull(n.serviceFormGroup.value.service)),e.xp6(20),e.Q6J("ngForOf",n.tags),e.xp6(3),e.Q6J("formGroup",n.policyDetailsFormGroup),e.xp6(38),e.hij(" ",null==n.serviceFormGroup.value.service?null:n.serviceFormGroup.value.service.service," "),e.xp6(2),e.hij(" [",n.serviceFormGroup.value.resources,"] "),e.xp6(15),e.Q6J("ngForOf",n.serviceFormGroup.value.tags||e.DdM(31,Ai)),e.xp6(7),e.Q6J("routerLink",e.DdM(32,dt)),e.xp6(2),e.Q6J("ngIf",0!=r.selectedIndex),e.xp6(1),e.Q6J("ngIf",0==r.selectedIndex),e.xp6(1),e.Q6J("ngIf",1==r.selectedIndex),e.xp6(1),e.Q6J("ngIf",2==r.selectedIndex),e.xp6(1),e.Q6J("show",n.loadingData)}},directives:[h.yS,me,pe,c._Y,c.JL,c.sg,j,p.mk,p.O5,v._D,p.sg,c.Wl,c.JJ,c.u,c.CE,c.Fj,c.On,c.c5,y.RJ],pipes:[p.Ov],styles:[".row-selector[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-top:.5rem}"]}),o})();var Z=u(4539),d=u(7805),D=u(9828);function Mi(o,i){if(1&o&&(e.TgZ(0,"span",32),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij("",null==t.selectedRows?null:t.selectedRows.length," selected")}}const Di=function(o){return["../policies/details",o]};function Ii(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",1),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,Di,t.data.policyId)),e.xp6(1),e.Oqu(t.data.policyName)}}function Si(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}function ki(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.updateDate)," ")}}const Ei=function(){return["../dashboard"]},Oi=function(){return["../policies/create"]},Ui=function(){return{groupPaging:!1}},Pi=function(){return[10,20,30,40,50]};let Ni=(()=>{class o{constructor(t,n){this.core=t,this.idapService=n,this.policies=[],this.loadingData=!1,this.selectedRows=[]}ngOnInit(){this.getPolicies()}getPolicies(){this.loadingData=!0,this.idapService.getPolicies().then(t=>{this.loadingData=!1,this.policies=t.data.policies}).catch(t=>{this.loadingData=!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(T.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-policies"]],decls:47,vars:39,consts:[[1,"container-fluid"],[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"row"],[1,"col"],[1,"col","d-flex","justify-content-end"],[1,"text-muted"],[1,"pt-3"],[1,"row","pb-2"],[1,"btn","btn-sm","btn-custom-secondary",3,"routerLink"],["title","Refresh",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-sync-alt"],[1,"add-datagrid-buttons"],[1,"btn","btn-sm","btn-danger",3,"disabled"],["class","selection-count text-muted",4,"ngIf"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled","selectedRowKeys","selectedRowKeysChange"],["usersContainer",""],[3,"enabled","pageSize","remoteOperations"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],[3,"height","width","showPane","shading"],["placeholder","Search...",3,"visible","width"],["selectAllMode","allPages","showCheckBoxesMode","always","mode","multiple"],["dataField","policyId",3,"visible"],["dataField","policyName","caption","Policy name","cellTemplate","userNameTemplate",3,"allowHiding"],["dataField","isAttachable"],["dataField","description",3,"allowHiding"],["dataField","createDate","caption","Created at","cellTemplate","createDateTemplate"],["dataField","updateDate","caption","Updated at","cellTemplate","updateDateTemplate"],[4,"dxTemplate","dxTemplateOf"],["fileName","Policies",3,"enabled","allowExportSelectedData"],[3,"enabled"],[3,"show"],[1,"selection-count","text-muted"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"a",1),e._uU(3,"IDAP"),e.qZA(),e._uU(4," \xa0 "),e._UZ(5,"i",2),e._uU(6," \xa0 Policies "),e.qZA(),e._UZ(7,"hr"),e.TgZ(8,"div",3),e.TgZ(9,"div",4),e.TgZ(10,"h4"),e._uU(11,"Policies"),e.qZA(),e.qZA(),e.TgZ(12,"div",5),e.TgZ(13,"span",6),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",7),e.TgZ(16,"div",8),e.TgZ(17,"div",4),e.TgZ(18,"button",9),e._uU(19,"Create policy"),e.qZA(),e.qZA(),e.TgZ(20,"div",5),e.TgZ(21,"button",10),e.NdJ("click",function(){return n.getPolicies()}),e._UZ(22,"i",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"span",12),e.TgZ(24,"button",13),e._uU(25,"Delete"),e.qZA(),e.YNc(26,Mi,2,1,"span",14),e.qZA(),e.TgZ(27,"dx-data-grid",15,16),e.NdJ("selectedRowKeysChange",function(s){return n.selectedRows=s}),e._UZ(29,"dxo-paging",17),e._UZ(30,"dxo-pager",18),e._UZ(31,"dxo-load-panel",19),e._UZ(32,"dxo-search-panel",20),e._UZ(33,"dxo-selection",21),e._UZ(34,"dxi-column",22),e._UZ(35,"dxi-column",23),e._uU(36,"isAttachable "),e._UZ(37,"dxi-column",24),e._UZ(38,"dxi-column",25),e._UZ(39,"dxi-column",26),e._UZ(40,"dxi-column",27),e.YNc(41,Ii,3,4,"div",28),e.YNc(42,Si,2,1,"div",28),e.YNc(43,ki,2,1,"div",28),e._UZ(44,"dxo-export",29),e._UZ(45,"dxo-column-chooser",30),e.qZA(),e.qZA(),e.qZA(),e._UZ(46,"ngx-loading",31)),2&t&&(e.xp6(2),e.Q6J("routerLink",e.DdM(35,Ei)),e.xp6(12),e.hij("Total: ",n.policies.length,""),e.xp6(4),e.Q6J("routerLink",e.DdM(36,Oi)),e.xp6(6),e.Q6J("disabled",0==(null==n.selectedRows?null:n.selectedRows.length)),e.xp6(2),e.Q6J("ngIf",null==n.selectedRows?null:n.selectedRows.length),e.xp6(1),e.Q6J("dataSource",n.policies)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0)("selectedRowKeys",n.selectedRows),e.xp6(2),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(37,Ui)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(38,Pi))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(2),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(3),e.Q6J("allowHiding",!1),e.xp6(3),e.Q6J("dxTemplateOf","userNameTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","updateDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0),e.xp6(1),e.Q6J("show",n.loadingData))},directives:[h.yS,h.rH,p.O5,Z.e,d.sXh,d.ilc,d.mKI,d.XXE,d.Lz9,d.qvW,D.p6,d.Ak0,d.Auv,y.RJ],styles:[""]}),o})();function Fi(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t.data.resources?null:t.data.resources.toString()," ")}}const ut=function(){return[]},he=function(){return{groupPaging:!1}},ge=function(){return[10,20,30,40,50]};function Ri(o,i){if(1&o&&(e.TgZ(0,"div",19),e.TgZ(1,"dx-data-grid",20),e._UZ(2,"dxo-paging",21),e._UZ(3,"dxo-pager",22),e._UZ(4,"dxo-load-panel",23),e._UZ(5,"dxo-search-panel",24),e._UZ(6,"dxi-column",25),e._UZ(7,"dxi-column",26),e.YNc(8,Fi,2,1,"div",27),e._UZ(9,"dxo-export",28),e._UZ(10,"dxo-column-chooser",29),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",(null==t.policyData||null==t.policyData.policyDocument?null:t.policyData.policyDocument.actions)||e.DdM(24,ut))("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(25,he)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(26,ge))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("dxTemplateOf","resourcesTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0)}}function qi(o,i){if(1&o&&(e.TgZ(0,"span",41),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij("",null==t.selectedGroupsRows?null:t.selectedGroupsRows.length," selected")}}function Li(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"i",42),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.column.caption,"\xa0")}}const Ji=function(o){return[o]};function Qi(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",43),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,Ji,"/console/idap/user-groups/details/"+t.data.groupName)),e.xp6(1),e.Oqu(t.data.groupName)}}function Gi(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}const Bi=function(o){return["/console/idap/policies/details/",o,"add","groups"]};function zi(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"div",30),e.TgZ(2,"div",4),e.TgZ(3,"button",31),e._uU(4," Attach groups "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"span",32),e.TgZ(6,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().detachPolicies()}),e._uU(7,"Detach"),e.qZA(),e.YNc(8,qi,2,1,"span",34),e.qZA(),e.TgZ(9,"dx-data-grid",35),e.NdJ("selectedRowKeysChange",function(r){return e.CHM(t),e.oxw().selectedGroupsRows=r}),e._UZ(10,"dxo-paging",21),e._UZ(11,"dxo-pager",22),e._UZ(12,"dxo-load-panel",23),e._UZ(13,"dxo-search-panel",24),e._UZ(14,"dxo-selection",36),e._UZ(15,"dxi-column",37),e._UZ(16,"dxi-column",38),e._UZ(17,"dxi-column",39),e.YNc(18,Li,3,1,"div",27),e.YNc(19,Qi,3,4,"div",27),e.YNc(20,Gi,2,1,"div",27),e._UZ(21,"dxo-export",40),e._UZ(22,"dxo-column-chooser",29),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("routerLink",e.VKq(31,Bi,t.policyId)),e.xp6(3),e.Q6J("disabled",0==(null==t.selectedGroupsRows?null:t.selectedGroupsRows.length)),e.xp6(2),e.Q6J("ngIf",null==t.selectedGroupsRows?null:t.selectedGroupsRows.length),e.xp6(1),e.Q6J("dataSource",t.policyGroups)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0)("selectedRowKeys",t.selectedGroupsRows),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(33,he)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(34,ge))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(2),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("dxTemplateOf","groupHeaderTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","groupTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0)}}function Hi(o,i){if(1&o&&(e.TgZ(0,"div",19),e.TgZ(1,"dx-data-grid",20),e._UZ(2,"dxo-paging",21),e._UZ(3,"dxo-pager",22),e._UZ(4,"dxo-load-panel",23),e._UZ(5,"dxo-search-panel",24),e._UZ(6,"dxi-column",44),e._UZ(7,"dxi-column",45),e._UZ(8,"dxo-export",46),e._UZ(9,"dxo-column-chooser",29),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",(null==t.policyData?null:t.policyData.tags)||e.DdM(23,ut))("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(24,he)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(25,ge))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0)}}const ji=function(){return["/console/idap/dashboard"]},Yi=function(){return["/console/idap/policies"]};let Vi=(()=>{class o{constructor(t,n,r){this.core=t,this.route=n,this.idapService=r,this.policyId="",this.policyData=void 0,this.policySummary=void 0,this.policyGroups=[],this.selectedGroupsRows=[],this.loadingData=!1}ngOnInit(){this.policyId=this.route.snapshot.paramMap.get("policyId"),this.getPolicyDetails(this.policyId)}getPolicyDetails(t){this.loadingData=!0,this.idapService.getPolicy(t).then(n=>{this.policyData=n.data.policy,this.policyGroups=n.data.groups,this.policySummary=n.data.summary,this.loadingData=!1}).catch(n=>{this.loadingData=!1})}detachPolicies(){var t=this;if(confirm("Are you sure you want to detach groups")){this.loadingData=!0;let r=[],s=[];this.selectedGroupsRows.forEach(function(){var a=(0,b.Z)(function*(l){try{yield t.idapService.detachPolicies(t.policyId,l.groupName),r.push([l.groupName]),t.selectedGroupsRows.length==r.length&&(t.core.successToast("Groups successfully detached"),t.loadingData=!1,t.getPolicyDetails(t.policyId))}catch(m){s.push([l.groupName]),t.core.errorToast("Error detaching group: "+l.groupName),t.loadingData=!1}});return function(l){return a.apply(this,arguments)}}())}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(h.gz),e.Y36(T.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-policy-details"]],decls:55,vars:15,consts:[[1,"container-fluid"],[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"row","pt-3","align-items-center"],[1,"col"],[1,""],[1,"col","d-flex","justify-content-end"],[1,"btn","btn-sm","btn-danger"],[1,"col-12","col-sm-8"],[1,"row"],[1,"col-4","col-sm","d-flex","justify-content-sm-end"],[1,"btn","btn-sm","btn-secondary"],["ngbNav","",1,"nav-pills","pt-3"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"show"],[1,"pt-3"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled"],[3,"enabled","pageSize","remoteOperations"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],[3,"height","width","showPane","shading"],["placeholder","Search...",3,"visible","width"],["dataField","service",3,"allowHiding"],["dataField","resources","cellTemplate","resourcesTemplate"],[4,"dxTemplate","dxTemplateOf"],["fileName","Policy documents",3,"enabled","allowExportSelectedData"],[3,"enabled"],[1,"row","pb-1"],[1,"btn","btn-sm","btn-custom-secondary",3,"routerLink"],[1,"add-datagrid-buttons"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],["class","selection-count text-muted",4,"ngIf"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled","selectedRowKeys","selectedRowKeysChange"],["selectAllMode","allPages","showCheckBoxesMode","always","mode","multiple"],["dataField","groupId",3,"visible"],["dataField","groupName","caption","Group name","headerCellTemplate","groupHeaderTemplate","cellTemplate","groupTemplate",3,"allowHiding"],["dataField","createDate","caption","Created at","cellTemplate","createDateTemplate"],["fileName","Group policies",3,"enabled","allowExportSelectedData"],[1,"selection-count","text-muted"],[1,"fa","fa-sm","fa-external-link-alt"],["target","_blank",3,"routerLink"],["dataField","key",3,"allowHiding"],["dataField","value"],["fileName","Policy tags",3,"enabled","allowExportSelectedData"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"a",1),e._uU(3,"IDAP"),e.qZA(),e._uU(4," \xa0 "),e._UZ(5,"i",2),e._uU(6," \xa0 "),e.TgZ(7,"a",1),e._uU(8,"Policies"),e.qZA(),e._uU(9," \xa0 "),e._UZ(10,"i",2),e._uU(11),e.qZA(),e.TgZ(12,"div",3),e.TgZ(13,"div",4),e.TgZ(14,"h3",5),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"div",6),e.TgZ(17,"button",7),e._uU(18,"Delete"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",3),e.TgZ(20,"div",4),e.TgZ(21,"h5"),e._uU(22,"Summary"),e.qZA(),e.qZA(),e.TgZ(23,"div",8),e.TgZ(24,"div",9),e.TgZ(25,"div",10),e.TgZ(26,"span"),e._uU(27,"Creation time:"),e.qZA(),e.qZA(),e.TgZ(28,"div",4),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"div",9),e.TgZ(31,"div",10),e.TgZ(32,"span"),e._uU(33,"Description:"),e.qZA(),e.qZA(),e.TgZ(34,"div",4),e._uU(35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",6),e.TgZ(37,"button",11),e._uU(38,"Edit"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"nav",12,13),e.ynx(41,14),e.TgZ(42,"a",15),e._uU(43,"Policy documents"),e.qZA(),e.YNc(44,Ri,11,27,"ng-template",16),e.BQk(),e.ynx(45,14),e.TgZ(46,"a",15),e._uU(47),e.qZA(),e.YNc(48,zi,23,35,"ng-template",16),e.BQk(),e.ynx(49,14),e.TgZ(50,"a",15),e._uU(51),e.qZA(),e.YNc(52,Hi,10,26,"ng-template",16),e.BQk(),e.qZA(),e._UZ(53,"div",17),e.qZA(),e._UZ(54,"ngx-loading",18)),2&t){const r=e.MAs(40);e.xp6(2),e.Q6J("routerLink",e.DdM(13,ji)),e.xp6(5),e.Q6J("routerLink",e.DdM(14,Yi)),e.xp6(4),e.hij(" \xa0 ",null==n.policyData?null:n.policyData.policyName," "),e.xp6(4),e.Oqu(null==n.policyData?null:n.policyData.policyName),e.xp6(14),e.hij(" ",n.core.getDate(null==n.policyData?null:n.policyData.createDate)," "),e.xp6(6),e.hij(" ",null==n.policyData?null:n.policyData.description," "),e.xp6(6),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngbNavItem",2),e.xp6(2),e.hij("Groups ",n.policySummary?"("+n.policySummary.groups+")":"",""),e.xp6(2),e.Q6J("ngbNavItem",3),e.xp6(2),e.hij("Tags ",n.policySummary?"("+n.policySummary.tags+")":"",""),e.xp6(2),e.Q6J("ngbNavOutlet",r),e.xp6(1),e.Q6J("show",n.loadingData)}},directives:[h.yS,v.Pz,v.nv,v.Vx,v.uN,Z.e,d.sXh,d.ilc,d.mKI,d.XXE,d.qvW,D.p6,d.Ak0,d.Auv,h.rH,p.O5,d.Lz9,v.tO,y.RJ],styles:[""]}),o})();function Ki(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"i",25),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.column.caption,"\xa0")}}const _e=function(o){return[o]};function Wi(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",26),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,_e,"/console/idap/users/details/"+t.data.userName)),e.xp6(1),e.Oqu(t.data.userName)}}function $i(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(3);e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}const fe=function(){return{groupPaging:!1}},ve=function(){return[10,20,30,40,50]};function Xi(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"dx-data-grid",13),e.NdJ("selectedRowKeysChange",function(r){return e.CHM(t),e.oxw(2).selectedRows=r}),e._UZ(1,"dxo-paging",14),e._UZ(2,"dxo-pager",15),e._UZ(3,"dxo-load-panel",16),e._UZ(4,"dxo-search-panel",17),e._UZ(5,"dxo-selection",18),e._UZ(6,"dxi-column",19),e._UZ(7,"dxi-column",20),e._UZ(8,"dxi-column",21),e.YNc(9,Ki,3,1,"div",22),e.YNc(10,Wi,3,4,"div",22),e.YNc(11,$i,2,1,"div",22),e._UZ(12,"dxo-export",23),e._UZ(13,"dxo-column-chooser",24),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("dataSource",t.usersNotInGroup)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0)("selectedRowKeys",t.selectedRows),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(28,fe)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(29,ve))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(2),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("dxTemplateOf","userHeaderTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","userTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0)}}function er(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"i",25),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.column.caption,"\xa0")}}function tr(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",26),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,_e,"/console/idap/policies/details/"+t.data.policyId)),e.xp6(1),e.Oqu(t.data.policyName)}}function or(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(3);e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}function nr(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"dx-data-grid",13),e.NdJ("selectedRowKeysChange",function(r){return e.CHM(t),e.oxw(2).selectedRows=r}),e._UZ(1,"dxo-paging",14),e._UZ(2,"dxo-pager",15),e._UZ(3,"dxo-load-panel",16),e._UZ(4,"dxo-search-panel",17),e._UZ(5,"dxo-selection",18),e._UZ(6,"dxi-column",27),e._UZ(7,"dxi-column",28),e._UZ(8,"dxi-column",21),e.YNc(9,er,3,1,"div",22),e.YNc(10,tr,3,4,"div",22),e.YNc(11,or,2,1,"div",22),e._UZ(12,"dxo-export",23),e._UZ(13,"dxo-column-chooser",24),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("dataSource",t.policiesNotInGroup)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0)("selectedRowKeys",t.selectedRows),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(28,fe)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(29,ve))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(2),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("dxTemplateOf","policyHeaderTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","policyTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0)}}function ir(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addUsers()}),e._uU(1," Add users "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("disabled",0==t.selectedRows.length)}}function rr(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addPolicies()}),e._uU(1," Add policies "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("disabled",0==t.selectedRows.length)}}const pt=function(){return["/console/idap/dashboard"]},sr=function(){return["/console/idap/user-groups"]},mt=function(o){return["/console/idap/user-groups/details",o]},ar=function(o){return{tab:o}};function lr(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"div",3),e.TgZ(2,"div"),e.TgZ(3,"a",4),e._uU(4,"IDAP"),e.qZA(),e._uU(5," \xa0 "),e._UZ(6,"i",5),e._uU(7," \xa0 "),e.TgZ(8,"a",4),e._uU(9,"User groups"),e.qZA(),e._uU(10," \xa0 "),e._UZ(11,"i",5),e._uU(12," \xa0 "),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e._uU(15," \xa0 "),e._UZ(16,"i",5),e._uU(17),e.qZA(),e.TgZ(18,"h3",6),e._uU(19),e.qZA(),e.YNc(20,Xi,14,30,"dx-data-grid",7),e.YNc(21,nr,14,30,"dx-data-grid",7),e._UZ(22,"hr",8),e.TgZ(23,"div",9),e.TgZ(24,"div",10),e.TgZ(25,"a",11),e._uU(26,"Cancel"),e.qZA(),e.YNc(27,ir,2,1,"button",12),e.YNc(28,rr,2,1,"button",12),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("routerLink",e.DdM(13,pt)),e.xp6(5),e.Q6J("routerLink",e.DdM(14,sr)),e.xp6(5),e.Q6J("routerLink",e.VKq(15,mt,t.groupName)),e.xp6(1),e.Oqu(t.groupName),e.xp6(3),e.hij(" \xa0 ","users"==t.addType?"Add users":"policies"==t.addType?"Attach policies":""," "),e.xp6(2),e.AsE("","users"==t.addType?"Add users":"policies"==t.addType?"Attach policies":""," to ",t.groupName," "),e.xp6(1),e.Q6J("ngIf","users"==t.addType),e.xp6(1),e.Q6J("ngIf","policies"==t.addType),e.xp6(4),e.Q6J("routerLink",e.VKq(17,mt,t.groupName))("queryParams",e.VKq(19,ar,"policies"==t.addType?2:1)),e.xp6(2),e.Q6J("ngIf","users"==t.addType),e.xp6(1),e.Q6J("ngIf","policies"==t.addType)}}function cr(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"i",25),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.column.caption,"\xa0")}}function dr(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",26),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,_e,"/console/idap/users/details/"+t.data.groupName)),e.xp6(1),e.Oqu(t.data.groupName)}}function ur(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}const pr=function(){return["/console/idap/policies"]},ht=function(o){return["/console/idap/policies/details",o]};function mr(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"div"),e.TgZ(2,"a",4),e._uU(3,"IDAP"),e.qZA(),e._uU(4," \xa0 "),e._UZ(5,"i",5),e._uU(6," \xa0 "),e.TgZ(7,"a",4),e._uU(8,"Policies"),e.qZA(),e._uU(9," \xa0 "),e._UZ(10,"i",5),e._uU(11," \xa0 "),e.TgZ(12,"a",4),e._uU(13),e.qZA(),e._uU(14," \xa0 "),e._UZ(15,"i",5),e._uU(16," \xa0 Add groups "),e.qZA(),e.TgZ(17,"h3",6),e._uU(18),e.qZA(),e.TgZ(19,"dx-data-grid",13),e.NdJ("selectedRowKeysChange",function(r){return e.CHM(t),e.oxw().selectedRows=r}),e._UZ(20,"dxo-paging",14),e._UZ(21,"dxo-pager",15),e._UZ(22,"dxo-load-panel",16),e._UZ(23,"dxo-search-panel",17),e._UZ(24,"dxo-selection",18),e._UZ(25,"dxi-column",30),e._UZ(26,"dxi-column",31),e._UZ(27,"dxi-column",21),e.YNc(28,cr,3,1,"div",22),e.YNc(29,dr,3,4,"div",22),e.YNc(30,ur,2,1,"div",22),e._UZ(31,"dxo-export",32),e._UZ(32,"dxo-column-chooser",24),e.qZA(),e._UZ(33,"hr",8),e.TgZ(34,"div",9),e.TgZ(35,"div",10),e.TgZ(36,"a",4),e._uU(37,"Cancel"),e.qZA(),e.TgZ(38,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().addPolicies()}),e._uU(39," Add groups "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("routerLink",e.DdM(35,pt)),e.xp6(5),e.Q6J("routerLink",e.DdM(36,pr)),e.xp6(5),e.Q6J("routerLink",e.VKq(37,ht,t.policyId)),e.xp6(1),e.Oqu(null==t.policyData?null:t.policyData.policyName),e.xp6(5),e.hij("Add groups to ",null==t.policyData?null:t.policyData.policyName," "),e.xp6(1),e.Q6J("dataSource",t.policiesNotInGroup)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0)("selectedRowKeys",t.selectedRows),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(39,fe)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(40,ve))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(2),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("dxTemplateOf","groupHeaderTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","groupTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0),e.xp6(4),e.Q6J("routerLink",e.VKq(41,ht,t.policyId)),e.xp6(2),e.Q6J("disabled",0==t.selectedRows.length)}}let gt=(()=>{class o{constructor(t,n,r,s){this.core=t,this.route=n,this.idapService=r,this.router=s,this.groupName="",this.policyId="",this.addType="",this.groupUsers=[],this.usersNotInGroup=[],this.users=[],this.groupPolicies=[],this.policiesNotInGroup=[],this.policies=[],this.policyGroups=[],this.groupsNotInPolicy=[],this.groups=[],this.policyData=void 0,this.selectedRows=[],this.loadingData=!1}ngOnInit(){this.groupName=this.route.snapshot.paramMap.get("groupName"),this.policyId=this.route.snapshot.paramMap.get("policyId"),this.addType=this.route.snapshot.paramMap.get("addType"),"users"==this.addType?this.getUsersNotInGroup(this.groupName):"policies"==this.addType?this.getPoliciesNotInGroup(this.groupName):"groups"==this.addType&&this.getGroupsNotInPolicy(this.policyId)}getUsersNotInGroup(t){var n=this;return(0,b.Z)(function*(){try{n.loadingData=!0;let r=yield n.idapService.getUsers();n.users=r.data.users;let s=yield n.idapService.getGroup(t);n.groupUsers=s.data.users,0!=n.users.length&&(n.usersNotInGroup=n.users.filter(a=>null==n.groupUsers.find(l=>l.userId===a.userId))),n.loadingData=!1}catch(r){n.loadingData=!1}})()}getPoliciesNotInGroup(t){var n=this;return(0,b.Z)(function*(){try{n.loadingData=!0;let r=yield n.idapService.getPolicies();n.policies=r.data.policies;let s=yield n.idapService.getGroupPolicies(t);n.groupPolicies=s.data.attachedPolicies,0!=n.policies.length&&(n.policiesNotInGroup=n.policies.filter(a=>null==n.groupPolicies.find(l=>l.policyId===a.policyId))),n.loadingData=!1}catch(r){n.loadingData=!1}})()}getGroupsNotInPolicy(t){var n=this;return(0,b.Z)(function*(){try{n.loadingData=!0;let r=yield n.idapService.getGroups();n.groups=r.data.groups;let s=yield n.idapService.getPolicy(t);n.policyGroups=s.data.groups,n.policyData=s.data.policy,0!=n.groups.length&&(n.policiesNotInGroup=n.groups.filter(a=>null==n.policyGroups.find(l=>l.groupId===a.groupId))),n.loadingData=!1}catch(r){n.loadingData=!1}})()}addUsers(){var t=this;this.loadingData=!0;let n=[],r=[];this.selectedRows.forEach(function(){var s=(0,b.Z)(function*(a){try{yield t.idapService.addGroupUser(t.groupName,a.userName),n.push([a.userName]),t.selectedRows.length==n.length&&(t.core.successToast("User(s) successfully added"),t.loadingData=!1,t.router.navigate(["/console/idap/user-groups/details",t.groupName],{queryParams:{tab:1}}))}catch(l){r.push([a.userName]),t.core.errorToast("Error adding user: "+a.userName),t.loadingData=!1}});return function(a){return s.apply(this,arguments)}}())}addPolicies(){var t=this;this.loadingData=!0;let n=[],r=[];"policies"==this.addType?this.selectedRows.forEach(function(){var s=(0,b.Z)(function*(a){try{yield t.idapService.attachPolicies(a.policyId,t.groupName),n.push([a.policyId]),t.selectedRows.length==n.length&&(t.core.successToast("Policies successfully added"),t.loadingData=!1,t.router.navigate(["/console/idap/user-groups/details",t.groupName],{queryParams:{tab:2}}))}catch(l){r.push([a.policyId]),t.core.errorToast("Error adding policy: "+a.policyName),t.loadingData=!1}});return function(a){return s.apply(this,arguments)}}()):"groups"==this.addType&&this.selectedRows.forEach(function(){var s=(0,b.Z)(function*(a){try{yield t.idapService.attachPolicies(t.policyId,a.groupName),n.push([a.groupName]),t.selectedRows.length==n.length&&(t.core.successToast("Groups successfully attached"),t.loadingData=!1,t.router.navigate(["/console/idap/policies/details",t.policyId]))}catch(l){r.push([a.groupName]),t.core.errorToast("Error attaching group: "+a.groupName),t.loadingData=!1}});return function(a){return s.apply(this,arguments)}}())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(h.gz),e.Y36(T.t),e.Y36(h.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-to-group"]],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[3,"show"],[1,"container-fluid"],[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"pt-3"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled","selectedRowKeys","selectedRowKeysChange",4,"ngIf"],[1,"mt-4"],[1,"row"],[1,"col","d-flex","justify-content-end","align-items-center"],[3,"routerLink","queryParams"],["class","btn btn-sm btn-custom-secondary ms-3",3,"disabled","click",4,"ngIf"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled","selectedRowKeys","selectedRowKeysChange"],[3,"enabled","pageSize","remoteOperations"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],[3,"height","width","showPane","shading"],["placeholder","Search...",3,"visible","width"],["selectAllMode","allPages","showCheckBoxesMode","always","mode","multiple"],["dataField","userId",3,"visible"],["dataField","userName","caption","Username","headerCellTemplate","userHeaderTemplate","cellTemplate","userTemplate",3,"allowHiding"],["dataField","createDate","caption","Created at","cellTemplate","createDateTemplate"],[4,"dxTemplate","dxTemplateOf"],["fileName","Group users",3,"enabled","allowExportSelectedData"],[3,"enabled"],[1,"fa","fa-sm","fa-external-link-alt"],["target","_blank",3,"routerLink"],["dataField","policyId",3,"visible"],["dataField","policyName","caption","Policy name","headerCellTemplate","policyHeaderTemplate","cellTemplate","policyTemplate",3,"allowHiding"],[1,"btn","btn-sm","btn-custom-secondary","ms-3",3,"disabled","click"],["dataField","groupId",3,"visible"],["dataField","groupName","caption","Group name","headerCellTemplate","groupHeaderTemplate","cellTemplate","groupTemplate",3,"allowHiding"],["fileName","Policy groups",3,"enabled","allowExportSelectedData"]],template:function(t,n){if(1&t&&(e.YNc(0,lr,29,21,"ng-container",0),e.YNc(1,mr,40,43,"ng-template",null,1,e.W1O),e._UZ(3,"ngx-loading",2)),2&t){const r=e.MAs(2);e.Q6J("ngIf",n.core.isEmptyOrNull(n.policyId))("ngIfElse",r),e.xp6(3),e.Q6J("show",n.loadingData)}},directives:[p.O5,h.yS,Z.e,d.sXh,d.ilc,d.mKI,d.XXE,d.Lz9,d.qvW,D.p6,d.Ak0,d.Auv,y.RJ],styles:[""]}),o})();const hr=function(){return["/console/idap/dashboard"]},_t=function(){return["/console/idap/user-groups"]};let gr=(()=>{class o{constructor(t,n,r,s){this.core=t,this.idapService=n,this.fb=r,this.router=s,this.loadingData=!1}ngOnInit(){this.initForm()}initForm(){this.groupformGroup=this.fb.group({groupName:["",c.kI.compose([c.kI.required,c.kI.maxLength(256),c.kI.minLength(3)])]})}createGroup(){var t=this;return(0,b.Z)(function*(){try{t.loadingData=!0,yield t.idapService.createGroup(t.groupformGroup.value.groupName),t.loadingData=!1,t.router.navigate(["/console/idap/user-groups"])}catch(n){t.loadingData=!1}})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(T.t),e.Y36(c.qu),e.Y36(h.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-group"]],decls:32,vars:9,consts:[[1,"container-fluid"],[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"row","pt-3","align-items-center"],[1,"col"],[1,"mb-3","mt-3","row",3,"formGroup"],["for","groupName",1,"form-label"],[1,"col","col-sm-5"],["type","text","id","groupName","formControlName","groupName",1,"form-control","form-control-sm"],[1,"form-text"],[1,"row"],[1,"col","d-flex","justify-content-end","align-items-center"],[1,"btn","btn-sm","btn-custom-secondary","ms-3",3,"disabled","click"],[3,"show"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"a",1),e._uU(3,"IDAP"),e.qZA(),e._uU(4," \xa0 "),e._UZ(5,"i",2),e._uU(6," \xa0 "),e.TgZ(7,"a",1),e._uU(8,"User groups"),e.qZA(),e._uU(9," \xa0 "),e._UZ(10,"i",2),e._uU(11," \xa0 Create user group "),e.qZA(),e.TgZ(12,"div",3),e.TgZ(13,"div",4),e.TgZ(14,"h3"),e._uU(15,"Create user group"),e.qZA(),e.qZA(),e.qZA(),e._UZ(16,"hr"),e.TgZ(17,"form",5),e.TgZ(18,"label",6),e._uU(19,"User group name"),e.qZA(),e.TgZ(20,"div",7),e._UZ(21,"input",8),e.TgZ(22,"small",9),e._uU(23," Maximum 128 characters. Use alphanumeric and '+=,.@-_' characters. "),e.qZA(),e.qZA(),e.qZA(),e._UZ(24,"hr"),e.TgZ(25,"div",10),e.TgZ(26,"div",11),e.TgZ(27,"a",1),e._uU(28,"Cancel"),e.qZA(),e.TgZ(29,"button",12),e.NdJ("click",function(){return n.createGroup()}),e._uU(30,"Create group"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(31,"ngx-loading",13)),2&t&&(e.xp6(2),e.Q6J("routerLink",e.DdM(6,hr)),e.xp6(5),e.Q6J("routerLink",e.DdM(7,_t)),e.xp6(10),e.Q6J("formGroup",n.groupformGroup),e.xp6(10),e.Q6J("routerLink",e.DdM(8,_t)),e.xp6(2),e.Q6J("disabled",n.groupformGroup.invalid),e.xp6(2),e.Q6J("show",n.loadingData))},directives:[h.yS,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,y.RJ],styles:[""]}),o})();function _r(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"i",33),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.column.caption,"\xa0")}}const ft=function(o){return[o]};function fr(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",34),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,ft,"/console/idap/users/details/"+t.data.userName)),e.xp6(1),e.Oqu(t.data.userName)}}function vr(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}const br=function(o){return["/console/idap/user-groups/details/",o,"add","users"]},vt=function(){return{groupPaging:!1}},bt=function(){return[10,20,30,40,50]};function xr(o,i){if(1&o&&(e.TgZ(0,"div",19),e.TgZ(1,"div",20),e.TgZ(2,"div",4),e.TgZ(3,"button",21),e._uU(4," Add users "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"dx-data-grid",22),e._UZ(6,"dxo-paging",23),e._UZ(7,"dxo-pager",24),e._UZ(8,"dxo-load-panel",25),e._UZ(9,"dxo-search-panel",26),e._UZ(10,"dxi-column",27),e._UZ(11,"dxi-column",28),e._UZ(12,"dxi-column",29),e.YNc(13,_r,3,1,"div",30),e.YNc(14,fr,3,4,"div",30),e.YNc(15,vr,2,1,"div",30),e._UZ(16,"dxo-export",31),e._UZ(17,"dxo-column-chooser",32),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("routerLink",e.VKq(28,br,t.groupName)),e.xp6(2),e.Q6J("dataSource",t.groupUsers)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(30,vt)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(31,bt))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(1),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("dxTemplateOf","userHeaderTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","userTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0)}}function yr(o,i){if(1&o&&(e.TgZ(0,"span",44),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij("",null==t.selectedPoliciesRows?null:t.selectedPoliciesRows.length," selected")}}function Tr(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"i",33),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.column.caption,"\xa0")}}function wr(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",34),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,ft,"/console/idap/policies/details/"+t.data.policyId)),e.xp6(1),e.Oqu(t.data.policyName)}}function Cr(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}const Ar=function(o){return["/console/idap/user-groups/details/",o,"add","policies"]};function Zr(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"div",20),e.TgZ(2,"div",4),e.TgZ(3,"button",21),e._uU(4," Attach policies "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"span",35),e.TgZ(6,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().detachPolicies()}),e._uU(7,"Detach"),e.qZA(),e.YNc(8,yr,2,1,"span",37),e.qZA(),e.TgZ(9,"dx-data-grid",38),e.NdJ("selectedRowKeysChange",function(r){return e.CHM(t),e.oxw().selectedPoliciesRows=r}),e._UZ(10,"dxo-paging",23),e._UZ(11,"dxo-pager",24),e._UZ(12,"dxo-load-panel",25),e._UZ(13,"dxo-search-panel",26),e._UZ(14,"dxo-selection",39),e._UZ(15,"dxi-column",40),e._UZ(16,"dxi-column",41),e._UZ(17,"dxi-column",42),e._UZ(18,"dxi-column",29),e.YNc(19,Tr,3,1,"div",30),e.YNc(20,wr,3,4,"div",30),e.YNc(21,Cr,2,1,"div",30),e._UZ(22,"dxo-export",43),e._UZ(23,"dxo-column-chooser",32),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("routerLink",e.VKq(31,Ar,t.groupName)),e.xp6(3),e.Q6J("disabled",0==(null==t.selectedPoliciesRows?null:t.selectedPoliciesRows.length)),e.xp6(2),e.Q6J("ngIf",null==t.selectedPoliciesRows?null:t.selectedPoliciesRows.length),e.xp6(1),e.Q6J("dataSource",t.groupPolicies)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0)("selectedRowKeys",t.selectedPoliciesRows),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(33,vt)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(34,bt))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(2),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(3),e.Q6J("dxTemplateOf","policyHeaderTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","policyTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0)}}const Mr=function(){return["/console/idap/dashboard"]},Dr=function(){return["/console/idap/user-groups"]};let Ir=(()=>{class o{constructor(t,n,r){this.core=t,this.route=n,this.idapService=r,this.groupName="",this.groupData=void 0,this.groupSummary=void 0,this.groupUsers=[],this.groupPolicies=[],this.selectedPoliciesRows=[],this.loadingData=!1}ngOnInit(){this.groupName=this.route.snapshot.paramMap.get("groupName"),this.route.queryParams.subscribe(t=>{0!=Object.keys(t).length&&(this.active=Number(t.tab),2==this.active&&this.getGroupPolicies(this.groupName))}),this.getGroupDetails(this.groupName)}getGroupDetails(t){this.loadingData=!0,this.idapService.getGroup(t).then(n=>{this.loadingData=!1,this.groupData=n.data.group,this.groupSummary=n.data.summary,this.groupUsers=n.data.users}).catch(n=>{this.loadingData=!1})}getGroupPolicies(t){this.idapService.getGroupPolicies(t).then(n=>{this.groupPolicies=n.data.attachedPolicies})}detachPolicies(){var t=this;if(confirm("Are you sure you want to detach policies")){this.loadingData=!0;let r=[],s=[];this.selectedPoliciesRows.forEach(function(){var a=(0,b.Z)(function*(l){try{yield t.idapService.detachPolicies(l.policyId,t.groupName),r.push([l.policyId]),t.selectedPoliciesRows.length==r.length&&(t.core.successToast("Policies successfully detached"),t.loadingData=!1,t.getGroupPolicies(t.groupName),t.getGroupDetails(t.groupName))}catch(m){s.push([l.policyId]),t.core.errorToast("Error detaching policy: "+l.policyName),t.loadingData=!1}});return function(l){return a.apply(this,arguments)}}())}}onNavChange(t){2===t.nextId&&this.getGroupPolicies(this.groupName)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(h.gz),e.Y36(T.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-group-details"]],decls:45,vars:14,consts:[[1,"container-fluid"],[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"row","pt-3","align-items-center"],[1,"col"],[1,""],[1,"col","d-flex","justify-content-end"],[1,"btn","btn-sm","btn-danger"],[1,"col-12","col-sm-8"],[1,"row"],[1,"col-4","col-sm","d-flex","justify-content-sm-end"],[1,"btn","btn-sm","btn-secondary"],["ngbNav","",1,"nav-pills","pt-3",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"show"],[1,"pt-3"],[1,"row","pb-1"],[1,"btn","btn-sm","btn-custom-secondary",3,"routerLink"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled"],[3,"enabled","pageSize","remoteOperations"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],[3,"height","width","showPane","shading"],["placeholder","Search...",3,"visible","width"],["dataField","userId",3,"visible"],["dataField","userName","caption","Username","headerCellTemplate","userHeaderTemplate","cellTemplate","userTemplate",3,"allowHiding"],["dataField","createDate","caption","Created at","cellTemplate","createDateTemplate"],[4,"dxTemplate","dxTemplateOf"],["fileName","Group users",3,"enabled","allowExportSelectedData"],[3,"enabled"],[1,"fa","fa-sm","fa-external-link-alt"],["target","_blank",3,"routerLink"],[1,"add-datagrid-buttons"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],["class","selection-count text-muted",4,"ngIf"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled","selectedRowKeys","selectedRowKeysChange"],["selectAllMode","allPages","showCheckBoxesMode","always","mode","multiple"],["dataField","policyId",3,"visible"],["dataField","policyName","caption","Policy","headerCellTemplate","policyHeaderTemplate","cellTemplate","policyTemplate",3,"allowHiding"],["dataField","description"],["fileName","Group policies",3,"enabled","allowExportSelectedData"],[1,"selection-count","text-muted"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"a",1),e._uU(3,"IDAP"),e.qZA(),e._uU(4," \xa0 "),e._UZ(5,"i",2),e._uU(6," \xa0 "),e.TgZ(7,"a",1),e._uU(8,"User groups"),e.qZA(),e._uU(9," \xa0 "),e._UZ(10,"i",2),e._uU(11),e.qZA(),e.TgZ(12,"div",3),e.TgZ(13,"div",4),e.TgZ(14,"h3",5),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"div",6),e.TgZ(17,"button",7),e._uU(18,"Delete"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",3),e.TgZ(20,"div",4),e.TgZ(21,"h5"),e._uU(22,"Summary"),e.qZA(),e.qZA(),e.TgZ(23,"div",8),e.TgZ(24,"div",9),e.TgZ(25,"div",10),e.TgZ(26,"span"),e._uU(27,"Creation time:"),e.qZA(),e.qZA(),e.TgZ(28,"div",4),e._uU(29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",6),e.TgZ(31,"button",11),e._uU(32,"Edit"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"nav",12,13),e.NdJ("activeIdChange",function(s){return n.active=s})("navChange",function(s){return n.onNavChange(s)}),e.ynx(35,14),e.TgZ(36,"a",15),e._uU(37),e.qZA(),e.YNc(38,xr,18,32,"ng-template",16),e.BQk(),e.ynx(39,14),e.TgZ(40,"a",15),e._uU(41),e.qZA(),e.YNc(42,Zr,24,35,"ng-template",16),e.BQk(),e.qZA(),e._UZ(43,"div",17),e.qZA(),e._UZ(44,"ngx-loading",18)),2&t){const r=e.MAs(34);e.xp6(2),e.Q6J("routerLink",e.DdM(12,Mr)),e.xp6(5),e.Q6J("routerLink",e.DdM(13,Dr)),e.xp6(4),e.hij(" \xa0 ",n.groupName," "),e.xp6(4),e.Oqu(n.groupName),e.xp6(14),e.hij(" ",n.core.getDate(null==n.groupData?null:n.groupData.createDate)," "),e.xp6(4),e.Q6J("activeId",n.active),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(2),e.hij("Users ",n.groupSummary?"("+n.groupSummary.users+")":"",""),e.xp6(2),e.Q6J("ngbNavItem",2),e.xp6(2),e.hij("Policies ",n.groupSummary?"("+n.groupSummary.policies+")":"",""),e.xp6(2),e.Q6J("ngbNavOutlet",r),e.xp6(1),e.Q6J("show",n.loadingData)}},directives:[h.yS,v.Pz,v.nv,v.Vx,v.uN,h.rH,Z.e,d.sXh,d.ilc,d.mKI,d.XXE,d.qvW,D.p6,d.Ak0,d.Auv,p.O5,d.Lz9,v.tO,y.RJ],styles:[""]}),o})();class Sr{}function kr(o,i){if(1&o&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij("",null==t.selectedRows?null:t.selectedRows.length," selected")}}const Er=function(o){return["../user-groups/details",o]};function Or(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",1),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,Er,t.data.groupName)),e.xp6(1),e.Oqu(t.data.groupName)}}function Ur(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}const Pr=function(){return["../dashboard"]},Nr=function(){return["../user-groups/create"]},Fr=function(){return[]},Rr=function(){return{groupPaging:!1}},qr=function(){return[10,20,30,40,50]};let Lr=(()=>{class o{constructor(t,n){this.core=t,this.idapService=n,this.loadingData=!1,this.userGroups=new Sr,this.selectedRows=[]}ngOnInit(){this.getUserGroups()}getUserGroups(){this.loadingData=!0,this.idapService.getGroups().then(t=>{this.loadingData=!1,this.userGroups=t,console.log("User groups: ",this.userGroups)}).catch(t=>{this.loadingData=!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(T.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-groups"]],decls:42,vars:38,consts:[[1,"container-fluid"],[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"row"],[1,"col"],[1,"col","d-flex","justify-content-end"],[1,"text-muted"],[1,"pt-3"],[1,"row","pb-2"],[1,"btn","btn-sm","btn-custom-secondary",3,"routerLink"],["title","Refresh",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-sync-alt"],[1,"add-datagrid-buttons"],[1,"btn","btn-sm","btn-danger",3,"disabled"],["class","selection-count text-muted",4,"ngIf"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled","selectedRowKeys","selectedRowKeysChange"],["userGroupsContainer",""],[3,"enabled","pageSize","remoteOperations"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],[3,"height","width","showPane","shading"],["placeholder","Search...",3,"visible","width"],["selectAllMode","allPages","showCheckBoxesMode","always","mode","multiple"],["dataField","groupId",3,"visible"],["dataField","groupName","caption","Group name","cellTemplate","groupNameTemplate",3,"allowHiding"],["dataField","createDate","caption","Created at","cellTemplate","createDateTemplate"],[4,"dxTemplate","dxTemplateOf"],["fileName","User groups",3,"enabled","allowExportSelectedData"],[3,"enabled"],[3,"show"],[1,"selection-count","text-muted"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"a",1),e._uU(3,"IDAP"),e.qZA(),e._uU(4," \xa0 "),e._UZ(5,"i",2),e._uU(6," \xa0 User groups "),e.qZA(),e._UZ(7,"hr"),e.TgZ(8,"div",3),e.TgZ(9,"div",4),e.TgZ(10,"h4"),e._uU(11,"User groups"),e.qZA(),e.qZA(),e.TgZ(12,"div",5),e.TgZ(13,"span",6),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",7),e.TgZ(16,"div",8),e.TgZ(17,"div",4),e.TgZ(18,"button",9),e._uU(19,"Create group"),e.qZA(),e.qZA(),e.TgZ(20,"div",5),e.TgZ(21,"button",10),e.NdJ("click",function(){return n.getUserGroups()}),e._UZ(22,"i",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"span",12),e.TgZ(24,"button",13),e._uU(25,"Delete"),e.qZA(),e.YNc(26,kr,2,1,"span",14),e.qZA(),e.TgZ(27,"dx-data-grid",15,16),e.NdJ("selectedRowKeysChange",function(s){return n.selectedRows=s}),e._UZ(29,"dxo-paging",17),e._UZ(30,"dxo-pager",18),e._UZ(31,"dxo-load-panel",19),e._UZ(32,"dxo-search-panel",20),e._UZ(33,"dxo-selection",21),e._UZ(34,"dxi-column",22),e._UZ(35,"dxi-column",23),e._UZ(36,"dxi-column",24),e.YNc(37,Or,3,4,"div",25),e.YNc(38,Ur,2,1,"div",25),e._UZ(39,"dxo-export",26),e._UZ(40,"dxo-column-chooser",27),e.qZA(),e.qZA(),e.qZA(),e._UZ(41,"ngx-loading",28)),2&t&&(e.xp6(2),e.Q6J("routerLink",e.DdM(33,Pr)),e.xp6(12),e.hij("Total: ",null==n.userGroups||null==n.userGroups.data||null==n.userGroups.data.groups?null:n.userGroups.data.groups.length,""),e.xp6(4),e.Q6J("routerLink",e.DdM(34,Nr)),e.xp6(6),e.Q6J("disabled",0==(null==n.selectedRows?null:n.selectedRows.length)),e.xp6(2),e.Q6J("ngIf",null==n.selectedRows?null:n.selectedRows.length),e.xp6(1),e.Q6J("dataSource",(null==n.userGroups||null==n.userGroups.data?null:n.userGroups.data.groups)||e.DdM(35,Fr))("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0)("selectedRowKeys",n.selectedRows),e.xp6(2),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(36,Rr)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(37,qr))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(2),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("dxTemplateOf","groupNameTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0),e.xp6(1),e.Q6J("show",n.loadingData))},directives:[h.yS,h.rH,p.O5,Z.e,d.sXh,d.ilc,d.mKI,d.XXE,d.Lz9,d.qvW,D.p6,d.Ak0,d.Auv,y.RJ],styles:[""]}),o})();var xt=u(2340);let Jr=(()=>{class o{constructor(t){this.core=t,this.fullBaseUrl=`${xt.N.baseUrl}/${xt.N.apiPath}`}getProvinces(){return this.core.makeRemoteRequest(`${this.fullBaseUrl}/listProvinces`,"post",{})}getDistricts(){return this.core.makeRemoteRequest(`${this.fullBaseUrl}/listDistricts`,"post",{})}getLocals(){return this.core.makeRemoteRequest(`${this.fullBaseUrl}/listLocals`,"post",{})}getWards(){return this.core.makeRemoteRequest(`${this.fullBaseUrl}/listWards`,"post",{})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(x.p))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Qr=["createGroupModal"],Gr=["stepper"];function Br(o,i){1&o&&e._uU(0,"Details")}function zr(o,i){if(1&o&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.provinceId),e.xp6(1),e.hij(" ",t.name||t.code," ")}}function Hr(o,i){if(1&o&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.districtMunicipalityId),e.xp6(1),e.hij(" ",t.name||t.code," ")}}function jr(o,i){if(1&o&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.localMunicipalityId),e.xp6(1),e.hij(" ",t.name||t.code," ")}}function Yr(o,i){if(1&o&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.wardId),e.xp6(1),e.hij(" ",t.name||t.code," ")}}function Vr(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Key can contain alphanumeric characters, or any of the following: _.:/=+-@ "),e.qZA())}function Kr(o,i){if(1&o&&(e.TgZ(0,"div",84),e.YNc(1,Vr,2,0,"div",85),e.qZA()),2&o){e.oxw();const t=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function Wr(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Value can contain alphanumeric characters, or any of the following: _.:/=+-@ "),e.qZA())}function $r(o,i){if(1&o&&(e.TgZ(0,"div",84),e.YNc(1,Wr,2,0,"div",85),e.qZA()),2&o){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function Xr(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index;return e.oxw().addTag(r)}),e._UZ(1,"i",87),e._uU(2," Add tag "),e.qZA()}if(2&o){const t=e.oxw().$implicit,n=e.MAs(3),r=e.MAs(7),s=e.oxw();e.Q6J("disabled",!(!s.core.isEmptyOrNull(t.key)&&n.valid)||r.invalid)}}function es(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"i",88),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index;return e.oxw().removeTag(r)}),e.qZA()}}const R=function(){return{standalone:!0}},yt=function(o){return{validateInput:o}};function ts(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",24),e.TgZ(2,"input",75,76),e.NdJ("ngModelChange",function(r){return e.CHM(t).$implicit.key=r}),e.qZA(),e.YNc(4,Kr,2,1,"div",77),e.qZA(),e.TgZ(5,"td",78),e.TgZ(6,"input",79,80),e.NdJ("ngModelChange",function(r){return e.CHM(t).$implicit.value=r}),e.qZA(),e.YNc(8,$r,2,1,"div",77),e.qZA(),e.TgZ(9,"td",81),e.YNc(10,Xr,3,1,"button",82),e.YNc(11,es,1,0,"i",83),e.qZA(),e.qZA()}if(2&o){const t=i.$implicit,n=i.index,r=e.MAs(3),s=e.MAs(7),a=e.oxw();e.xp6(2),e.Q6J("ngModel",t.key)("ngModelOptions",e.DdM(14,R))("pattern",a.core.tagPatten)("disabled",t.disabled)("ngClass",e.VKq(15,yt,r.dirty&&r.invalid)),e.xp6(2),e.Q6J("ngIf",r.invalid),e.xp6(2),e.Q6J("ngModel",t.value)("ngModelOptions",e.DdM(17,R))("pattern",a.core.tagPatten)("disabled",t.disabled)("ngClass",e.VKq(18,yt,s.dirty&&s.invalid)),e.xp6(2),e.Q6J("ngIf",s.invalid),e.xp6(2),e.Q6J("ngIf",a.tags.length-1===n),e.xp6(1),e.Q6J("ngIf",a.tags.length-1!==n)}}function os(o,i){1&o&&e._uU(0,"Profile")}function ns(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"input",89),e.NdJ("click",function(){return e.CHM(t),e.oxw().showHidePassword("customPassword")}),e.qZA(),e.TgZ(2,"label",90),e._uU(3," Show password "),e.qZA(),e.qZA()}}function is(o,i){1&o&&e._uU(0,"Groups")}function rs(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"i",91),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.column.caption,"\xa0")}}const ss=function(o){return["/console/idap/user-groups/details",o]};function as(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",92),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,ss,t.data.groupName)),e.xp6(1),e.Oqu(t.data.groupName)}}function ls(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}function cs(o,i){1&o&&e._uU(0,"Complete")}const Tt=function(){return["/console/idap/users"]};function ds(o,i){1&o&&(e.TgZ(0,"a",1),e._uU(1,"Close"),e.qZA()),2&o&&e.Q6J("routerLink",e.DdM(1,Tt))}function us(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",93),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),s=e.MAs(18);return r.nextStep(s)}),e._uU(1," Next: Profile "),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.userFormGroup.invalid)}}function ps(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",93),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),s=e.MAs(18);return r.nextStep(s)}),e._uU(1," Next: Groups "),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.userProfileFormGroup.invalid)}}function ms(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",94),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),s=e.MAs(18);return r.nextStep(s)}),e._uU(1," Next: Credentials "),e.qZA()}}function hs(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",94),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),s=e.MAs(18);return r.nextStep(s)}),e._uU(1," New user "),e.qZA()}}function gs(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",95),e.TgZ(1,"span",96),e._uU(2),e.qZA(),e.TgZ(3,"button",97),e.NdJ("click",function(){return e.CHM(t).dismiss("Cross click")}),e.qZA(),e.qZA(),e.TgZ(4,"div",98),e.TgZ(5,"form",99),e.TgZ(6,"label",14),e._uU(7,"User group name"),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"input",100),e.TgZ(10,"small",17),e._uU(11," Maximum 128 characters. Use alphanumeric and '+=,.@-_' characters. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",101),e.TgZ(13,"div",13),e.TgZ(14,"div",68),e.TgZ(15,"span",102),e.NdJ("click",function(){return e.CHM(t).dismiss("Cancel")}),e._uU(16,"Cancel"),e.qZA(),e.TgZ(17,"button",93),e.NdJ("click",function(){return e.CHM(t),e.oxw().createGroup()}),e._uU(18,"Create group"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.modalTitle),e.xp6(3),e.Q6J("formGroup",t.groupFormGroup),e.xp6(12),e.Q6J("disabled",t.groupFormGroup.invalid)}}const _s=function(){return["/console/idap/dashboard"]},fs=function(){return{groupPaging:!1}},vs=function(){return[10,20,30,40,50]};let bs=(()=>{class o{constructor(t,n,r,s,a){this.core=t,this.idapService=n,this.fb=r,this.generalService=s,this.loadingData=!1,this.modalTitle="",this.groups=[],this.provinces=[],this.districts=[],this.locals=[],this.wards=[],this.selectedRows=[],this.isLinear=!0,this.provinceTag={key:"province",value:""},this.districtTag={key:"district",value:""},this.localTag={key:"local",value:""},this.wardTag={key:"ward",value:""},this.defaultTags=[],this.tags=[{key:"",value:"",disabled:!1}],this.tempLocalStorageKeys=["user-group-data","user-profile-data","new-user-detail"],this.stepperOrientation=a.observe("(min-width: 600px)").pipe((0,w.U)(({matches:l})=>l?"horizontal":"vertical"))}ngOnInit(){this.initUserForm(),this.loadUserForm(),this.initUserProfileForm(),this.passwordTypeChange(),this.initGroupForm(),this.loadGeoData()}ngAfterViewInit(){let t;this.core.isEmptyOrNull(localStorage.getItem(this.tempLocalStorageKeys[0]))?this.core.isEmptyOrNull(localStorage.getItem(this.tempLocalStorageKeys[1]))?this.core.isEmptyOrNull(localStorage.getItem(this.tempLocalStorageKeys[2]))||(t=JSON.parse(localStorage.getItem(this.tempLocalStorageKeys[2])),this.stepper.selectedIndex=null!=t||null!=t?t.completedStep+1:0):(t=JSON.parse(localStorage.getItem(this.tempLocalStorageKeys[1])),this.stepper.selectedIndex=null!=t||null!=t?t.completedStep:0,this.stepper.selectedIndex=null!=t||null!=t?t.completedStep+1:0,this.getGroups()):(t=JSON.parse(localStorage.getItem(this.tempLocalStorageKeys[0])),this.stepper.selectedIndex=null!=t||null!=t?t.completedStep-1:0,this.stepper.selectedIndex=null!=t||null!=t?t.completedStep:0,this.stepper.selectedIndex=null!=t||null!=t?t.completedStep+1:0)}initUserForm(){this.userFormGroup=this.fb.group({userName:["",c.kI.compose([c.kI.required,c.kI.maxLength(256),c.kI.minLength(3)])],tags:[],defaultTags:[],newUser:[]})}loadUserForm(){if(!this.core.isEmptyOrNull(localStorage.getItem(this.tempLocalStorageKeys[2]))){let t=JSON.parse(localStorage.getItem(this.tempLocalStorageKeys[2]));this.userFormGroup.patchValue({userName:t.userName})}}initUserProfileForm(){this.userProfileFormGroup=this.fb.group({passwordType:["auto",c.kI.required],password:[""],requirePasswordReset:[!0]}),this.userProfileFormGroup.controls.password.disable()}passwordTypeChange(){this.userProfileFormGroup.controls.passwordType.valueChanges.subscribe(t=>{"custom"==t?(this.userProfileFormGroup.controls.password.enable(),this.userProfileFormGroup.controls.password.setValidators(c.kI.compose([c.kI.required,c.kI.maxLength(256),c.kI.minLength(3)])),this.userProfileFormGroup.controls.password.updateValueAndValidity()):this.userProfileFormGroup.controls.password.disable()})}initGroupForm(){this.groupFormGroup=this.fb.group({groupName:["",c.kI.compose([c.kI.required,c.kI.maxLength(256),c.kI.minLength(3)])]})}loadGeoData(){this.getProvinces(),this.getDistricts(),this.getLocals(),this.getWards()}addTag(t){this.tags[t].disabled=!0,this.tags.push({key:"",value:"",disabled:!1})}addDefaultTag(t,n){let r=this.defaultTags.findIndex(s=>s.key==t);-1!=r?this.core.isEmptyOrNull(n.value)?this.defaultTags.splice(r,1):this.defaultTags.splice(r,1,n):this.defaultTags.push(n)}removeTag(t){this.tags.splice(t,1)}onGeoChange(t){"province"===t?this.addDefaultTag(t,this.provinceTag):"district"===t?this.addDefaultTag(t,this.districtTag):"local"===t?this.addDefaultTag(t,this.localTag):"ward"===t&&this.addDefaultTag(t,this.wardTag)}get password(){let t=JSON.parse(localStorage.getItem(this.tempLocalStorageKeys[1]));return null==t?void 0:t.password}createUserDetail(t){var n=this;return(0,b.Z)(function*(){try{n.loadingData=!0;let r=n.core._lodashRef.cloneDeep(n.tags);r.splice(r.length-1,1),r.map(a=>{n.core.sanitiseRequestObject(a,"","disabled")}),n.userFormGroup.controls.tags.setValue([...n.defaultTags,...r]),console.log(n.userFormGroup.getRawValue());let s=yield n.idapService.createUser(n.userFormGroup.value.userName,n.userFormGroup.value.tags);n.loadingData=!1,n.userFormGroup.controls.newUser.setValue(s),localStorage.setItem(n.tempLocalStorageKeys[2],JSON.stringify(Object.assign(Object.assign({},n.userFormGroup.value),{completedStep:t.selectedIndex}))),t.next(),console.log("New user: ",s,n.userFormGroup.value)}catch(r){n.loadingData=!1}})()}createLoginProfile(t){var n=this;return(0,b.Z)(function*(){try{n.loadingData=!0,"auto"===n.userProfileFormGroup.value.passwordType&&n.userProfileFormGroup.controls.password.setValue(n.core.generatePassword()),console.log("New login profile: ",n.userProfileFormGroup.getRawValue());let r=yield n.idapService.createLoginProfile(n.userFormGroup.value.userName,n.userProfileFormGroup.getRawValue().password,n.userProfileFormGroup.value.requirePasswordReset);n.loadingData=!1,localStorage.setItem(n.tempLocalStorageKeys[1],JSON.stringify(Object.assign(Object.assign({},n.userProfileFormGroup.getRawValue()),{completedStep:t.selectedIndex}))),t.next(),n.getGroups(),console.log("New login profile: ",r,n.userProfileFormGroup.value)}catch(r){n.loadingData=!1}})()}addUserToGroup(t){var n=this;this.loadingData=!0;let r=[],s=[];this.selectedRows.forEach(function(){var a=(0,b.Z)(function*(l,m){try{yield n.idapService.addGroupUser(l.groupName,n.userFormGroup.value.userName),r.push([l.groupName,m]),n.selectedRows.length==r.length&&(localStorage.setItem(n.tempLocalStorageKeys[0],JSON.stringify({rows:n.selectedRows,completedStep:t.selectedIndex})),t.next())}catch(_){s.push([l.groupName,m])}});return function(l,m){return a.apply(this,arguments)}}()),this.loadingData=!1}getGroups(){this.loadingData=!0,this.idapService.getGroups().then(t=>{this.loadingData=!1,this.groups=t.data.groups}).catch(()=>{this.loadingData=!1})}getProvinces(){this.generalService.getProvinces().then(t=>{this.provinces=t.data})}getDistricts(){this.generalService.getDistricts().then(t=>{this.districts=t.data})}getLocals(){this.generalService.getLocals().then(t=>{this.locals=t.data})}getWards(){this.generalService.getWards().then(t=>{this.wards=t.data})}openCreateGroupModal(t){this.modalTitle=t,this.core.openModal(this.createGroupModal).then(n=>{this.getGroups()}).catch(()=>{})}createGroup(){var t=this;return(0,b.Z)(function*(){try{t.loadingData=!0,yield t.idapService.createGroup(t.groupFormGroup.value.groupName),t.loadingData=!1,t.core.closeModal()}catch(n){t.loadingData=!1}})()}nextStep(t){console.log("Current step index: ",t.selectedIndex),0==t.selectedIndex?this.createUserDetail(t):1==t.selectedIndex?this.createLoginProfile(t):2==t.selectedIndex?this.addUserToGroup(t):(this.userFormGroup.reset(),this.userProfileFormGroup.reset(),t.reset(),this.tempLocalStorageKeys.forEach(n=>{localStorage.removeItem(n)}))}showHidePassword(t){let n=document.getElementById(t);n.type="password"===n.type?"text":"password"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(T.t),e.Y36(c.qu),e.Y36(Jr),e.Y36(Me))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-user"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Qr,5),e.Gf(Gr,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.createGroupModal=r.first),e.iGM(r=e.CRH())&&(n.stepper=r.first)}},decls:189,vars:72,consts:[[1,"container-fluid"],[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"row","pt-3","align-items-center"],[1,"col"],[1,"row","mat-typography"],["labelPosition","bottom",3,"linear","orientation"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"mb-1","mt-3","fw-bold"],[1,"mt-1"],[1,"row"],["for","groupName",1,"form-label"],[1,"col","col-sm-5"],["type","text","id","groupName","formControlName","userName",1,"form-control","form-control-sm"],[1,"form-text"],[1,"mt-1","mb-1"],[1,"col","table-responsive","pb-2"],[1,"table","mb-1"],[1,"table-light"],["scope","col"],["scope","col",1,"text-center"],["width","20%"],["type","text","disabled","",1,"form-control","form-control-sm",3,"value"],[1,"form-select","form-select-sm",3,"ngModel","ngModelOptions","ngModelChange","change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"form-label","col","col-sm-3","d-flex","justify-content-sm-end","fw-bold"],[1,"col","col-sm-8"],[1,"form-check"],["type","radio","id","autogenerated","value","auto","formControlName","passwordType",1,"form-check-input"],["for","autogenerated",1,"form-check-label"],["type","radio","id","custom","value","custom","formControlName","passwordType",1,"form-check-input"],["for","custom",1,"form-check-label"],[1,"row","ps-3","pt-2"],[1,"col","col-sm-5","ps-3"],["type","password","id","customPassword","formControlName","password",1,"form-control","form-control-sm"],["class","form-check",4,"ngIf"],[1,"row","pt-3"],["type","checkbox","id","requireReset","formControlName","requirePasswordReset",1,"form-check-input"],["for","requireReset",1,"form-check-label"],[1,"row","pb-2","pt-2"],[1,"btn","btn-sm","btn-custom-primary",3,"click"],[1,"col","d-flex","justify-content-sm-end"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-sync-alt"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled","selectedRowKeys","selectedRowKeysChange"],[3,"enabled","pageSize","remoteOperations"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],[3,"height","width","showPane","shading"],["placeholder","Search...",3,"visible","width"],["selectAllMode","allPages","showCheckBoxesMode","always","mode","multiple"],["dataField","groupId",3,"visible"],["dataField","groupName","caption","Group name","headerCellTemplate","groupHeaderTemplate","cellTemplate","groupNameTemplate",3,"allowHiding"],["dataField","createDate","caption","Created at","cellTemplate","createDateTemplate"],[4,"dxTemplate","dxTemplateOf"],["fileName","User groups",3,"enabled","allowExportSelectedData"],[3,"enabled"],[1,"align-middle"],["title","Send email",1,"text-button"],[1,"fa","fa-paper-plane"],["title","Copy credentials",1,"text-button"],[1,"fa","fa-copy"],[1,"mt-4"],[1,"fw-bold"],[1,"col","d-flex","justify-content-end","align-items-center"],[3,"routerLink",4,"ngIf"],["class","btn btn-sm btn-custom-secondary ms-3",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-custom-secondary ms-3",3,"click",4,"ngIf"],["createGroupModal",""],[3,"show"],[3,"ngValue"],["type","text","placeholder","Add new key",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","pattern","disabled","ngClass","ngModelChange"],["key","ngModel"],["class","invalid-feedback d-block",4,"ngIf"],["width","68%"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","pattern","disabled","ngClass","ngModelChange"],["value","ngModel"],[1,"text-center","align-middle"],["class","btn btn-sm btn-custom-primary",3,"disabled","click",4,"ngIf"],["class","fas fa-times",3,"click",4,"ngIf"],[1,"invalid-feedback","d-block"],[4,"ngIf"],[1,"btn","btn-sm","btn-custom-primary",3,"disabled","click"],[1,"fas","fa-plus"],[1,"fas","fa-times",3,"click"],["type","checkbox","value","","id","showPassword",1,"form-check-input",3,"click"],["for","showPassword",1,"form-check-label"],[1,"fa","fa-sm","fa-external-link-alt"],["target","_blank",3,"routerLink"],[1,"btn","btn-sm","btn-custom-secondary","ms-3",3,"disabled","click"],[1,"btn","btn-sm","btn-custom-secondary","ms-3",3,"click"],[1,"modal-header","app-bg-custom"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-custom-secondary","btn-close",3,"click"],[1,"modal-body"],[1,"row",3,"formGroup"],["type","text","id","groupName","formControlName","groupName",1,"form-control","form-control-sm"],[1,"modal-footer","app-bg-custom","pt-1","pb-1"],[1,"text-button",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"a",1),e._uU(3,"IDAP"),e.qZA(),e._uU(4," \xa0 "),e._UZ(5,"i",2),e._uU(6," \xa0 "),e.TgZ(7,"a",1),e._uU(8,"Users"),e.qZA(),e._uU(9," \xa0 "),e._UZ(10,"i",2),e._uU(11," \xa0 Create user "),e.qZA(),e.TgZ(12,"div",3),e.TgZ(13,"div",4),e.TgZ(14,"h3"),e._uU(15,"Create user"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",5),e.TgZ(17,"mat-stepper",6,7),e.ALo(19,"async"),e.TgZ(20,"mat-step",8),e.TgZ(21,"form",9),e.YNc(22,Br,1,0,"ng-template",10),e.TgZ(23,"h4",11),e._uU(24,"Set user details"),e.qZA(),e._UZ(25,"hr",12),e.TgZ(26,"div",13),e.TgZ(27,"label",14),e._uU(28,"User name"),e.TgZ(29,"span"),e._uU(30,"*"),e.qZA(),e.qZA(),e.TgZ(31,"div",15),e._UZ(32,"input",16),e.TgZ(33,"small",17),e._uU(34," Maximum 128 characters. Use alphanumeric and '+=,.@-_' characters. "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"h4",11),e._uU(36,"Add tags"),e.qZA(),e._UZ(37,"hr",18),e.TgZ(38,"div",13),e.TgZ(39,"p"),e._uU(40,"IDAP tags are key-value pairs you can add to your user. Tags can include user information, such as an email address, or can be descriptive, such as a job title. You can use the tags to organize, track, or control access for this user."),e.qZA(),e.TgZ(41,"div",19),e.TgZ(42,"table",20),e.TgZ(43,"thead",21),e.TgZ(44,"tr"),e.TgZ(45,"th",22),e._uU(46,"Key*"),e.qZA(),e.TgZ(47,"th",22),e._uU(48,"Value"),e.qZA(),e.TgZ(49,"th",23),e._uU(50,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"tbody"),e.TgZ(52,"tr"),e.TgZ(53,"td",24),e._UZ(54,"input",25),e.qZA(),e.TgZ(55,"td"),e.TgZ(56,"select",26),e.NdJ("ngModelChange",function(s){return n.provinceTag.value=s})("change",function(){return n.onGeoChange("province")}),e.TgZ(57,"option",27),e._uU(58,"Select a province..."),e.qZA(),e.YNc(59,zr,2,2,"option",28),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"tr"),e.TgZ(61,"td",24),e._UZ(62,"input",25),e.qZA(),e.TgZ(63,"td"),e.TgZ(64,"select",26),e.NdJ("ngModelChange",function(s){return n.districtTag.value=s})("change",function(){return n.onGeoChange("district")}),e.TgZ(65,"option",27),e._uU(66,"Select a district..."),e.qZA(),e.YNc(67,Hr,2,2,"option",28),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"tr"),e.TgZ(69,"td",24),e._UZ(70,"input",25),e.qZA(),e.TgZ(71,"td"),e.TgZ(72,"select",26),e.NdJ("ngModelChange",function(s){return n.localTag.value=s})("change",function(){return n.onGeoChange("local")}),e.TgZ(73,"option",27),e._uU(74,"Select a local..."),e.qZA(),e.YNc(75,jr,2,2,"option",28),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"tr"),e.TgZ(77,"td",24),e._UZ(78,"input",25),e.qZA(),e.TgZ(79,"td"),e.TgZ(80,"select",26),e.NdJ("ngModelChange",function(s){return n.wardTag.value=s})("change",function(){return n.onGeoChange("ward")}),e.TgZ(81,"option",27),e._uU(82,"Select a ward..."),e.qZA(),e.YNc(83,Yr,2,2,"option",28),e.qZA(),e.qZA(),e.qZA(),e.YNc(84,ts,12,20,"tr",29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(85,"mat-step",8),e.TgZ(86,"form",9),e.YNc(87,os,1,0,"ng-template",10),e.TgZ(88,"h4",11),e._uU(89,"Set profile password"),e.qZA(),e._UZ(90,"hr",18),e.TgZ(91,"div",13),e.TgZ(92,"p"),e._uU(93,"Autogenerated passwords are provided in the last step."),e.qZA(),e.TgZ(94,"label",30),e._uU(95," Console password"),e.TgZ(96,"span"),e._uU(97,"*"),e.qZA(),e.qZA(),e.TgZ(98,"div",31),e.TgZ(99,"div",32),e._UZ(100,"input",33),e.TgZ(101,"label",34),e._uU(102," Autogenerated password "),e.qZA(),e.qZA(),e.TgZ(103,"div",32),e._UZ(104,"input",35),e.TgZ(105,"label",36),e._uU(106," Custom password "),e.qZA(),e.qZA(),e.TgZ(107,"div",37),e.TgZ(108,"div",38),e._UZ(109,"input",39),e.YNc(110,ns,4,0,"div",40),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(111,"div",41),e.TgZ(112,"label",30),e._uU(113," Require password reset"),e.qZA(),e.TgZ(114,"div",31),e.TgZ(115,"div",32),e._UZ(116,"input",42),e.TgZ(117,"label",43),e._uU(118," Users must create a new password at next sign-in "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(119,"mat-step"),e.YNc(120,is,1,0,"ng-template",10),e.TgZ(121,"h4",11),e._uU(122,"Add user to group(s)"),e.qZA(),e._UZ(123,"hr",12),e.TgZ(124,"div",44),e.TgZ(125,"div",4),e.TgZ(126,"button",45),e.NdJ("click",function(){return n.openCreateGroupModal("Create user group")}),e._uU(127,"New group"),e.qZA(),e.qZA(),e.TgZ(128,"div",46),e.TgZ(129,"button",47),e.NdJ("click",function(){return n.getGroups()}),e._UZ(130,"i",48),e.qZA(),e.qZA(),e.qZA(),e.TgZ(131,"dx-data-grid",49),e.NdJ("selectedRowKeysChange",function(s){return n.selectedRows=s}),e._UZ(132,"dxo-paging",50),e._UZ(133,"dxo-pager",51),e._UZ(134,"dxo-load-panel",52),e._UZ(135,"dxo-search-panel",53),e._UZ(136,"dxo-selection",54),e._UZ(137,"dxi-column",55),e._UZ(138,"dxi-column",56),e._UZ(139,"dxi-column",57),e.YNc(140,rs,3,1,"div",58),e.YNc(141,as,3,4,"div",58),e.YNc(142,ls,2,1,"div",58),e._UZ(143,"dxo-export",59),e._UZ(144,"dxo-column-chooser",60),e.qZA(),e.qZA(),e.TgZ(145,"mat-step"),e.YNc(146,cs,1,0,"ng-template",10),e.TgZ(147,"h4",11),e._uU(148,"User credentials"),e.qZA(),e._UZ(149,"hr",18),e.TgZ(150,"div",13),e.TgZ(151,"p"),e._uU(152,"You can either copy the credentials or send an email to the recipient"),e.qZA(),e.TgZ(153,"div",19),e.TgZ(154,"table",20),e.TgZ(155,"thead",21),e.TgZ(156,"tr"),e.TgZ(157,"th",22),e._uU(158,"User name"),e.qZA(),e.TgZ(159,"th",22),e._uU(160,"Password"),e.qZA(),e.TgZ(161,"th",22),e._uU(162,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(163,"tbody"),e.TgZ(164,"tr"),e.TgZ(165,"td"),e._uU(166),e.qZA(),e.TgZ(167,"td"),e._uU(168),e.qZA(),e.TgZ(169,"td",61),e.TgZ(170,"span",62),e._UZ(171,"i",63),e.qZA(),e._uU(172,"\xa0 "),e.TgZ(173,"span",64),e._UZ(174,"i",65),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(175,"hr",66),e.TgZ(176,"div",13),e.TgZ(177,"div",4),e.TgZ(178,"span",67),e._uU(179,"* Required"),e.qZA(),e.qZA(),e.TgZ(180,"div",68),e.YNc(181,ds,2,2,"a",69),e.YNc(182,us,2,1,"button",70),e.YNc(183,ps,2,1,"button",70),e.YNc(184,ms,2,0,"button",71),e.YNc(185,hs,2,0,"button",71),e.qZA(),e.qZA(),e.qZA(),e.YNc(186,gs,19,3,"ng-template",null,72,e.W1O),e._UZ(188,"ngx-loading",73)),2&t){const r=e.MAs(18);e.xp6(2),e.Q6J("routerLink",e.DdM(64,_s)),e.xp6(5),e.Q6J("routerLink",e.DdM(65,Tt)),e.xp6(10),e.Q6J("linear",n.isLinear)("orientation",e.lcZ(19,62,n.stepperOrientation)),e.xp6(3),e.Q6J("stepControl",n.userFormGroup),e.xp6(1),e.Q6J("formGroup",n.userFormGroup),e.xp6(33),e.Q6J("value",n.provinceTag.key),e.xp6(2),e.Q6J("ngModel",n.provinceTag.value)("ngModelOptions",e.DdM(66,R)),e.xp6(3),e.Q6J("ngForOf",n.provinces),e.xp6(3),e.Q6J("value",n.districtTag.key),e.xp6(2),e.Q6J("ngModel",n.districtTag.value)("ngModelOptions",e.DdM(67,R)),e.xp6(3),e.Q6J("ngForOf",n.districts),e.xp6(3),e.Q6J("value",n.localTag.key),e.xp6(2),e.Q6J("ngModel",n.localTag.value)("ngModelOptions",e.DdM(68,R)),e.xp6(3),e.Q6J("ngForOf",n.locals),e.xp6(3),e.Q6J("value",n.wardTag.key),e.xp6(2),e.Q6J("ngModel",n.wardTag.value)("ngModelOptions",e.DdM(69,R)),e.xp6(3),e.Q6J("ngForOf",n.wards),e.xp6(1),e.Q6J("ngForOf",n.tags),e.xp6(1),e.Q6J("stepControl",n.userProfileFormGroup),e.xp6(1),e.Q6J("formGroup",n.userProfileFormGroup),e.xp6(24),e.Q6J("ngIf","custom"==n.userProfileFormGroup.controls.passwordType.value),e.xp6(21),e.Q6J("dataSource",n.groups)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0)("selectedRowKeys",n.selectedRows),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(70,fs)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(71,vs))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(2),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("dxTemplateOf","groupHeaderTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","groupNameTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0),e.xp6(22),e.hij(" ",n.userFormGroup.value.userName," "),e.xp6(2),e.hij(" ",n.password||""," "),e.xp6(13),e.Q6J("ngIf",0==r.selectedIndex||3==r.selectedIndex),e.xp6(1),e.Q6J("ngIf",0==r.selectedIndex),e.xp6(1),e.Q6J("ngIf",1==r.selectedIndex),e.xp6(1),e.Q6J("ngIf",2==r.selectedIndex),e.xp6(1),e.Q6J("ngIf",3==r.selectedIndex),e.xp6(3),e.Q6J("show",n.loadingData)}},directives:[h.yS,me,pe,c._Y,c.JL,c.sg,j,c.Fj,c.JJ,c.u,c.EJ,c.On,c.YN,c.Kr,p.sg,c.c5,p.mk,p.O5,c._,c.Wl,Z.e,d.sXh,d.ilc,d.mKI,d.XXE,d.Lz9,d.qvW,D.p6,d.Ak0,d.Auv,y.RJ],pipes:[p.Ov],styles:[".mat-stepper-label-position-bottom[_ngcontent-%COMP%]   .mat-horizontal-stepper-header[_ngcontent-%COMP%]{padding-left:unset!important}"]}),o})();function xs(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"i",31),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.column.caption,"\xa0")}}const ys=function(o){return[o]};function Ts(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",32),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,ys,"/console/idap/user-groups/details/"+t.data.groupName)),e.xp6(1),e.Oqu(t.data.groupName)}}function ws(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}const wt=function(){return{groupPaging:!1}},Ct=function(){return[10,20,30,40,50]};function Cs(o,i){if(1&o&&(e.TgZ(0,"div",19),e.TgZ(1,"dx-data-grid",20),e._UZ(2,"dxo-paging",21),e._UZ(3,"dxo-pager",22),e._UZ(4,"dxo-load-panel",23),e._UZ(5,"dxo-search-panel",24),e._UZ(6,"dxi-column",25),e._UZ(7,"dxi-column",26),e._UZ(8,"dxi-column",27),e.YNc(9,xs,3,1,"div",28),e.YNc(10,Ts,3,4,"div",28),e.YNc(11,ws,2,1,"div",28),e._UZ(12,"dxo-export",29),e._UZ(13,"dxo-column-chooser",30),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.userGroups)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(27,wt)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(28,Ct))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(1),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("dxTemplateOf","groupHeaderTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","groupTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0)}}const As=function(){return[]};function Zs(o,i){if(1&o&&(e.TgZ(0,"dx-data-grid",20),e._UZ(1,"dxo-paging",21),e._UZ(2,"dxo-pager",22),e._UZ(3,"dxo-load-panel",23),e._UZ(4,"dxo-search-panel",24),e._UZ(5,"dxi-column",33),e._UZ(6,"dxi-column",34),e._UZ(7,"dxo-export",35),e._UZ(8,"dxo-column-chooser",30),e.qZA()),2&o){const t=e.oxw();e.Q6J("dataSource",(null==t.userData||null==t.userData.user?null:t.userData.user.tags)||e.DdM(23,As))("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0),e.xp6(1),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(24,wt)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(25,Ct))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0)}}const Ms=function(){return["/console/idap/dashboard"]},Ds=function(){return["/console/idap/users"]};let Is=(()=>{class o{constructor(t,n,r,s){this.core=t,this.fb=n,this.route=r,this.idapService=s,this.userName="",this.userData=void 0,this.userGroups=[],this.loadingData=!1}ngOnInit(){this.userName=this.route.snapshot.paramMap.get("userName"),this.getUserDetails(this.userName),this.getUserGroups(this.userName)}getUserDetails(t){this.loadingData=!0,this.idapService.getUser(t).then(n=>{this.loadingData=!1,this.userData=n.data}).catch(n=>{this.loadingData=!1})}getUserGroups(t){this.loadingData=!0,this.idapService.getUserGroups(t).then(n=>{this.loadingData=!1,this.userGroups=n.data.groups}).catch(n=>{this.loadingData=!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(c.qu),e.Y36(h.gz),e.Y36(T.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-details"]],decls:45,vars:11,consts:[[1,"container-fluid"],[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"row","pt-3","align-items-center"],[1,"col"],[1,""],[1,"col","d-flex","justify-content-end"],[1,"btn","btn-sm","btn-danger"],[1,"col-12","col-sm-8"],[1,"row"],[1,"col-4","col-sm","d-flex","justify-content-sm-end"],[1,"btn","btn-sm","btn-secondary"],["ngbNav","",1,"nav-pills","pt-3"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"show"],[1,"pt-3"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled"],[3,"enabled","pageSize","remoteOperations"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],[3,"height","width","showPane","shading"],["placeholder","Search...",3,"visible","width"],["dataField","groupId",3,"visible"],["dataField","groupName","caption","Group name","headerCellTemplate","groupHeaderTemplate","cellTemplate","groupTemplate",3,"allowHiding"],["dataField","createDate","caption","Created at","cellTemplate","createDateTemplate"],[4,"dxTemplate","dxTemplateOf"],["fileName","User groups",3,"enabled","allowExportSelectedData"],[3,"enabled"],[1,"fa","fa-sm","fa-external-link-alt"],["target","_blank",3,"routerLink"],["dataField","key",3,"allowHiding"],["dataField","value"],["fileName","User tags",3,"enabled","allowExportSelectedData"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"a",1),e._uU(3,"IDAP"),e.qZA(),e._uU(4," \xa0 "),e._UZ(5,"i",2),e._uU(6," \xa0 "),e.TgZ(7,"a",1),e._uU(8,"Users"),e.qZA(),e._uU(9," \xa0 "),e._UZ(10,"i",2),e._uU(11),e.qZA(),e.TgZ(12,"div",3),e.TgZ(13,"div",4),e.TgZ(14,"h3",5),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"div",6),e.TgZ(17,"button",7),e._uU(18,"Delete"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",3),e.TgZ(20,"div",4),e.TgZ(21,"h5"),e._uU(22,"Summary"),e.qZA(),e.qZA(),e.TgZ(23,"div",8),e.TgZ(24,"div",9),e.TgZ(25,"div",10),e.TgZ(26,"span"),e._uU(27,"Creation time:"),e.qZA(),e.qZA(),e.TgZ(28,"div",4),e._uU(29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",6),e.TgZ(31,"button",11),e._uU(32,"Edit"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"nav",12,13),e.ynx(35,14),e.TgZ(36,"a",15),e._uU(37),e.qZA(),e.YNc(38,Cs,14,29,"ng-template",16),e.BQk(),e.ynx(39,14),e.TgZ(40,"a",15),e._uU(41),e.qZA(),e.YNc(42,Zs,9,26,"ng-template",16),e.BQk(),e.qZA(),e._UZ(43,"div",17),e.qZA(),e._UZ(44,"ngx-loading",18)),2&t){const r=e.MAs(34);e.xp6(2),e.Q6J("routerLink",e.DdM(9,Ms)),e.xp6(5),e.Q6J("routerLink",e.DdM(10,Ds)),e.xp6(4),e.hij(" \xa0 ",n.userName," "),e.xp6(4),e.Oqu(n.userName),e.xp6(14),e.hij(" ",n.core.getDate(null==n.userData?null:n.userData.createDate)," "),e.xp6(8),e.hij("Groups ",null!=n.userData&&n.userData.summary?"("+(null==n.userData||null==n.userData.summary?null:n.userData.summary.groups)+")":"",""),e.xp6(4),e.hij("Tags ",null!=n.userData&&n.userData.summary?"("+(null==n.userData||null==n.userData.summary?null:n.userData.summary.tags)+")":"",""),e.xp6(2),e.Q6J("ngbNavOutlet",r),e.xp6(1),e.Q6J("show",n.loadingData)}},directives:[h.yS,v.Pz,v.nv,v.Vx,v.uN,Z.e,d.sXh,d.ilc,d.mKI,d.XXE,d.qvW,D.p6,d.Ak0,d.Auv,v.tO,y.RJ],styles:[""]}),o})();function Ss(o,i){if(1&o&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij("",null==t.selectedRows?null:t.selectedRows.length," selected")}}const ks=function(o){return["../users/details",o]};function Es(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",1),e._uU(2),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,ks,t.data.userName)),e.xp6(1),e.Oqu(t.data.userName)}}function Os(o,i){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.hij(" ",n.core.getDateInMoment(t.data.createDate)," ")}}const Us=function(){return["../dashboard"]},Ps=function(){return["../users/create"]},Ns=function(){return{groupPaging:!1}},Fs=function(){return[10,20,30,40,50]},Rs=[{path:"",component:Nt,children:[{path:"",redirectTo:"dashboard",pathMatch:"prefix"},{path:"dashboard",component:Dt},{path:"user-groups",children:[{path:"",component:Lr},{path:"create",component:gr},{path:"details/:groupName",children:[{path:"",component:Ir},{path:"add/:addType",component:gt}]}]},{path:"users",children:[{path:"",component:(()=>{class o{constructor(t,n){this.core=t,this.idapService=n,this.users=[],this.loadingData=!1,this.selectedRows=[]}ngOnInit(){this.getUsers()}getUsers(){this.loadingData=!0,this.idapService.getUsers().then(t=>{this.loadingData=!1,this.users=t.data.users,console.log(this.users)}).catch(t=>{this.loadingData=!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.p),e.Y36(T.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-users"]],decls:42,vars:37,consts:[[1,"container-fluid"],[3,"routerLink"],[1,"fa","fa-chevron-right"],[1,"row"],[1,"col"],[1,"col","d-flex","justify-content-end"],[1,"text-muted"],[1,"pt-3"],[1,"row","pb-2"],[1,"btn","btn-sm","btn-custom-secondary",3,"routerLink"],["title","Refresh",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-sync-alt"],[1,"add-datagrid-buttons"],[1,"btn","btn-sm","btn-danger",3,"disabled"],["class","selection-count text-muted",4,"ngIf"],["noDataText","No data available",3,"dataSource","columnAutoWidth","showBorders","showRowLines","showColumnLines","allowColumnReordering","wordWrapEnabled","selectedRowKeys","selectedRowKeysChange"],["usersContainer",""],[3,"enabled","pageSize","remoteOperations"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],[3,"height","width","showPane","shading"],["placeholder","Search...",3,"visible","width"],["selectAllMode","allPages","showCheckBoxesMode","always","mode","multiple"],["dataField","userId",3,"visible"],["dataField","userName","caption","Username","cellTemplate","userNameTemplate",3,"allowHiding"],["dataField","createDate","caption","Created at","cellTemplate","createDateTemplate"],[4,"dxTemplate","dxTemplateOf"],["fileName","Users",3,"enabled","allowExportSelectedData"],[3,"enabled"],[3,"show"],[1,"selection-count","text-muted"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"a",1),e._uU(3,"IDAP"),e.qZA(),e._uU(4," \xa0 "),e._UZ(5,"i",2),e._uU(6," \xa0 Users "),e.qZA(),e._UZ(7,"hr"),e.TgZ(8,"div",3),e.TgZ(9,"div",4),e.TgZ(10,"h4"),e._uU(11,"Users"),e.qZA(),e.qZA(),e.TgZ(12,"div",5),e.TgZ(13,"span",6),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",7),e.TgZ(16,"div",8),e.TgZ(17,"div",4),e.TgZ(18,"button",9),e._uU(19,"Create user"),e.qZA(),e.qZA(),e.TgZ(20,"div",5),e.TgZ(21,"button",10),e.NdJ("click",function(){return n.getUsers()}),e._UZ(22,"i",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"span",12),e.TgZ(24,"button",13),e._uU(25,"Delete"),e.qZA(),e.YNc(26,Ss,2,1,"span",14),e.qZA(),e.TgZ(27,"dx-data-grid",15,16),e.NdJ("selectedRowKeysChange",function(s){return n.selectedRows=s}),e._UZ(29,"dxo-paging",17),e._UZ(30,"dxo-pager",18),e._UZ(31,"dxo-load-panel",19),e._UZ(32,"dxo-search-panel",20),e._UZ(33,"dxo-selection",21),e._UZ(34,"dxi-column",22),e._UZ(35,"dxi-column",23),e._UZ(36,"dxi-column",24),e.YNc(37,Es,3,4,"div",25),e.YNc(38,Os,2,1,"div",25),e._UZ(39,"dxo-export",26),e._UZ(40,"dxo-column-chooser",27),e.qZA(),e.qZA(),e.qZA(),e._UZ(41,"ngx-loading",28)),2&t&&(e.xp6(2),e.Q6J("routerLink",e.DdM(33,Us)),e.xp6(12),e.hij("Total: ",n.users.length,""),e.xp6(4),e.Q6J("routerLink",e.DdM(34,Ps)),e.xp6(6),e.Q6J("disabled",0==(null==n.selectedRows?null:n.selectedRows.length)),e.xp6(2),e.Q6J("ngIf",null==n.selectedRows?null:n.selectedRows.length),e.xp6(1),e.Q6J("dataSource",n.users)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("showColumnLines",!1)("allowColumnReordering",!0)("wordWrapEnabled",!0)("selectedRowKeys",n.selectedRows),e.xp6(2),e.Q6J("enabled",!0)("pageSize",20)("remoteOperations",e.DdM(35,Ns)),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(36,Fs))("showInfo",!0),e.xp6(1),e.Q6J("height",75)("width",75)("showPane",!0)("shading",!1),e.xp6(1),e.Q6J("visible",!0)("width",240),e.xp6(2),e.Q6J("visible",!1),e.xp6(1),e.Q6J("allowHiding",!1),e.xp6(2),e.Q6J("dxTemplateOf","userNameTemplate"),e.xp6(1),e.Q6J("dxTemplateOf","createDateTemplate"),e.xp6(1),e.Q6J("enabled",!0)("allowExportSelectedData",!0),e.xp6(1),e.Q6J("enabled",!0),e.xp6(1),e.Q6J("show",n.loadingData))},directives:[h.yS,h.rH,p.O5,Z.e,d.sXh,d.ilc,d.mKI,d.XXE,d.Lz9,d.qvW,D.p6,d.Ak0,d.Auv,y.RJ],styles:[""]}),o})()},{path:"create",component:bs},{path:"details/:userName",children:[{path:"",component:Is}]}]},{path:"policies",children:[{path:"",component:Ni},{path:"create",component:Zi},{path:"details/:policyId",children:[{path:"",component:Vi},{path:"add/:addType",component:gt}]}]},{path:"account-settings",component:At}]}];let qs=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[h.Bz.forChild(Rs)],h.Bz]}),o})(),Ls=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,qs,Z.x,y.q,v.Oz,v.lQ,c.UX,ei,c.UX,c.u5]]}),o})()}}]);